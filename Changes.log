This file contains a list of the major changes in PLplot.  It is best to
look through this file for new features, etc, until the new documentation
is complete.

I typically construct entries by stripping off all the CVS (the source
maintenance program we use) commit messages from each file.  Those that
are common to all are handled separately to make it a bit less junky.
Minor stuff I feel free to omit.

*****************************************************************************
PLplot 4.99h changes
Jul 29, 1994
*****************************************************************************

This release contains several important new capabilities and many bug
fixes.  Changes grouped by files affected.  The old Changes.log file has
been moved to the doc directory as Rel4p99g.doc for future reference.

Maurice LeBrun	mjl@dino.ph.utexas.edu

-----------------------------------------------------------------------------
Install scripts, makefile, etc.
-----------------------------------------------------------------------------

Completely new.  configure script now generated by autoconf, using
aclocal.m4, configure.in, cf/sysconf.in, and cf/sysloc.in.  The Makefile
and certain basic header files are built from files in the cf directory.
Much more powerful than before.  See cf/README.

-----------------------------------------------------------------------------
Main source files
-----------------------------------------------------------------------------

All core source files: 
made another pass to eliminate warnings when using gcc -Wall.  Lots of
cleaning up: got rid of includes of math.h or string.h (now included by
plplot.h), and other minor changes.  Now each file has global access to
the plstream pointer via extern; many accessor functions eliminated as a
result.


plwind.c:
 * Revision 1.8  1994/07/29  20:29:24  mjl
 * Change so that window coordinates are added to the window list each time
 * plwind() is called.  Contributed by Paul Casteels.


plsym.c:
 * Revision 1.12  1994/07/21  10:11:42  mjl
 * Added a fast point draw capability: if code=-1 is given to plpoin or
 * plpoin3, instead of drawing a Hershey font character it draws a point
 * using simply a move and draw.  This is at least 4X faster.
 *
 * Revision 1.11  1994/07/20  06:09:50  mjl
 * Changed syntax of the new 3d function plpoin3() to be more like plpoin(),
 * and moved to this file.


plstream.c:
 * Revision 1.18  1994/07/26  18:17:24  mjl
 * Added missing variable declaration and initializer.
 *
 * Revision 1.17  1994/07/26  09:00:46  mjl
 * Added a quick fix so that hitting a carriage return when prompted for
 * a filename no longer aborts the program.  Contributed by Mark Olesen.


plshade.c:
 * Revision 1.10  1994/07/12  19:20:55  mjl
 * Argument list for plshade() fixed.


plpage.c:
 * Revision 1.10  1994/07/29  20:27:40  mjl
 * Added plGetCursor() and other support routines for returning the cursor
 * location in world coordinates given a mouse click, if supported by the
 * driver.  Supports multiple windows per page, and gets the correct set
 * of world coordinates for the plot selected.  Contributed by Paul Casteels.
 *
 * Revision 1.9  1994/06/30  18:27:17  mjl
 * Subpage initialization code moved to this file --
 * subpage settings can now be changed any time (previously, it had to be
 * done before calling plinit).


plmap.c: (new)
 * Revision 1.1  1994/07/29  20:26:10  mjl
 * Function to plot map backgrounds, read from the specified map data file.
 * Contributed by Wesley Ebisuzaki.


plline.c:
 * Revision 1.16  1994/07/22  15:54:37  furnish
 * Fix bug in selective segment draw capability of plpoly3().
 *
 * Revision 1.15  1994/07/20  10:38:57  mjl
 * Fixed the error return on the two new routines.
 *
 * Revision 1.14  1994/07/20  06:09:22  mjl
 * Changed syntax of the new 3d functions plline3() and plpoly3() to be more
 * like plline(), and moved to this file.


plfont.c:
 * Revision 1.16  1994/07/29  20:24:42  mjl
 * References to plfontopen() deleted, in favor of using plLibOpen().
 *
 * Revision 1.15  1994/07/26  21:14:44  mjl
 * Improvements to the way PLplot looks for various files.  Now more
 * consistent and flexible.  In particular, environmentals can be set for
 * locations of each directory (for Tcl, binary, and library files).
 * Contributed by Mark Olesen.


plctrl.c:
 * Revision 1.23  1994/07/29  20:23:53  mjl
 * Added new function plLibOpen(), used for opening and returning the file
 * handle for "library" files -- font files, map files, etc.  These are all
 * located by the same search path.
 *
 * Revision 1.22  1994/07/26  21:14:41  mjl
 * Improvements to the way PLplot looks for various files.  Now more
 * consistent and flexible.  In particular, environmentals can be set for
 * locations of each directory (for Tcl, binary, and library files).
 * Contributed by Mark Olesen.
 *
 * Revision 1.21  1994/07/25  06:44:31  mjl
 * Wrapped the include of unistd.h in a HAVE_UNISTD_H.


plcore.c:
 * Revision 1.37  1994/07/12  19:20:31  mjl
 * Two bugs fixed: cmap1 palette should now "stick" on plots saved from Tk
 * driver, and the code won't complain when a bop isn't preceded by an eop.
 *
 * Revision 1.36  1994/07/08  22:50:31  mjl
 * Fixed bug that was hosing the background color in plots saved from the
 * Tk/DP driver menu.
 *
 * Revision 1.35  1994/07/03  05:50:22  mjl
 * Added fix to prevent an infinite loop while exiting under certain error
 * conditions, submitted by Radey Shouman.
 *
 * Revision 1.34  1994/07/02  21:32:11  mjl
 * Ensure that fflush() is never called with a null pointer, since some
 * systems don't like it (submitted by Neal Holtz).
 *
 * Revision 1.33  1994/06/30  18:26:16  mjl
 * Driver interface changed to keep track of current
 * status; plsc->status is set to one of AT_BOP, DRAWING, or AT_EOP.  This
 * makes it easy to catch missing plbop/pleop's, and to collapse multiple
 * plbop's or pleop's into a single one.  Subpage initialization code moved
 * to plpage.c.
 *
 * Revision 1.32  1994/06/09  20:31:30  mjl
 * Small changes to the way plmkstrm() works.


plstream.h:
 * Revision 1.31  1994/07/23  04:46:55  mjl
 * Added pls->server_nokill, which can be set to prevent plserver from dying
 * when a ^C is hit.
 *
 * Revision 1.30  1994/07/19  22:34:46  mjl
 * Eliminated some unnecessary defines.
 *
 * Revision 1.29  1994/06/30  18:37:03  mjl
 * Added status flag to keep track of current page status.


plplotP.h:
 * Revision 1.27  1994/07/29  20:19:31  mjl
 * Added typedef for CWindow -- window coordinate structure, also prototypes
 * for plAddCWindow() and plClrCWindows(void) (contributed by Paul Casteels).
 * Also prototype for new plLibOpen() function.
 *
 * Revision 1.26  1994/07/26  21:14:38  mjl
 * Improvements to the way PLplot looks for various files.  Now more
 * consistent and flexible.  In particular, environmentals can be set for
 * locations of each directory (for Tcl, binary, and library files).
 * Contributed by Mark Olesen.
 *
 * Revision 1.25  1994/07/24  07:41:46  mjl
 * Eliminated some more system-dependent stuff, in view of plConfig.h
 * providing us with the _POSIX_SOURCE define (or not).
 *
 * Revision 1.24  1994/07/23  04:46:26  mjl
 * Decreased the amount of custom system handling due to use of plConfig.h.
 * Need to do some more yet...
 *
 * Revision 1.23  1994/07/22  15:54:09  furnish
 * Fix overaggressive behavior.
 *
 * Revision 1.22  1994/07/19  22:35:04  mjl
 * Added includes for pdf.h and plConfig.h.
 *
 * Revision 1.21  1994/06/30  18:36:06  mjl
 * Removed prototypes for deleted accessor functions.  Inserted an extern
 * PLStream *plsc declaration for easier access to PLplot state info (only
 * plcore.h, which declares the real plsc, doesn't see this declaration).
 * Now includes plstream.h.


plplot.h:
 * Revision 1.69  1994/07/29  20:17:02  mjl
 * Added typedef for new PLCursor struct and driver escape code for the get
 * cursor operation (contributed by Paul Casteels).  Added prototypes for
 * plmap() and plmeridians() (contributed by Wesley Ebisuzaki).
 *
 * Revision 1.68  1994/07/28  08:04:49  mjl
 * Bumped version number, revision to various comments.
 *
 * Revision 1.67  1994/07/20  06:07:09  mjl
 * Changed names and prototypes for the new 3d functions -- now plline3(),
 * plpoin3(), and plpoly3().
 *
 * Revision 1.66  1994/07/19  22:14:45  furnish
 * Stuff for pl3poly().
 *
 * Revision 1.65  1994/07/15  20:37:12  furnish
 * Added routines pl3line and pl3poin for drawing lines and points in 3
 * space.  Added a new example program, and dependency info to build it.
 *
 * Revision 1.64  1994/07/12  19:18:00  mjl
 * Fixed prototype for plshade().
 *
 * Revision 1.63  1994/06/30  18:33:36  mjl
 * Now includes math.h and string.h, since I was tired of getting burned by
 * leaving these out (and having strange run-time errors as a result).  The
 * PLINT type now is an "int" by default, except on MSDOS where it's a long
 * (16 bits not being enough).  The latter can be modified under 32 bit
 * compilation systems to use an int also.  So currently, you can use an
 * int as a PLINT on all systems except MSDOS, there you must use PLINT.
 *
 * Revision 1.62  1994/06/16  19:48:36  mjl
 * Inserted prototype for pltkMain(), removed prototype for plframeCmd().


plcore.h:
 * Revision 1.23  1994/07/25  06:05:35  mjl
 * Added dispatch table entry for new lj_hpgl driver.
 *
 * Revision 1.22  1994/07/19  22:36:10  mjl
 * Included plDevs.h.  Driver enabling macro renamed to PLD_<driver>, where
 * <driver> is xwin, ps, etc.  See plDevs.h for more detail.
 *
 * Revision 1.21  1994/06/30  18:29:21  mjl
 * Include-guards included, and the PLStream pointer made global.  The latter
 * will make access to PLplot state information much easier.


-----------------------------------------------------------------------------
Fortran interface
-----------------------------------------------------------------------------

sfstubs.fm4:
! Revision 1.3  1994/07/12  19:22:10  mjl
! Various cleaning up and robustifications.


sfstubs.f:
  new, provided as a failsafe in case m4 is unavailable or broken
  single precision only


fmacs.m4:
# Revision 1.3  1994/07/12  19:21:32  mjl
# Fixed type definitions to help generated text stay within 72 columns.


scstubs.c:
 * Revision 1.19  1994/07/20  06:08:03  mjl
 * Added Fortran interface routines to handle the new 3d functions plline3(),
 * plpoin3(), and plpoly3().


plstubs.h:
 * Revision 1.22  1994/07/20  06:07:44  mjl
 * Added definitions for Fortran interface routines to handle the new 3d
 * functions plline3(), plpoin3(), and plpoly3().


-----------------------------------------------------------------------------
Tcl API
-----------------------------------------------------------------------------

All files here are new, to support the new PLplot Tcl API.

tclMatrix.c:
 * Revision 1.6  1994/08/09  08:33:35  mjl
 * Changed the tclMatrix API once again.  The 'matrix' operator now sets up a
 * command for the actual name used to declare the matrix.  This is faster
 * than the old way, more intuitive, and less robust (the created matrix is
 * global).  The last problem can presumably fixed by modifications to the
 * Tcl kernel to support a matrix type, and is worth sacrificing for now
 * in favor of a better syntax.  The matrix declarator sets a local variable
 * of the same name as the created (matrix) command in order to automatically
 * free locally-declared matrix resources at the end of a proc.  So previous
 * scripts will still work.
 *
 * Revision 1.5  1994/06/30  18:55:02  mjl
 * Now accepts an initializer when matrix is declared, for example:
 * matrix base i 4 = {0, 200, 500, 600}.  Only works for 1-d arrays so far.
 *
 * Revision 1.4  1994/06/30  05:45:24  furnish
 * Cobbled together an extension facility which allows a user to define
 * their own subcommands for tclMatricies.  The idea is that you can use
 * this to implement your own matrix processing commands entirely on the
 * compiled side.  fft's, matrix multiplication, inversion, etc.
 *
 * Revision 1.3  1994/06/25  20:38:59  mjl
 * Added support for integer matrix data.  Substantially rewrote and improved
 * code in the process.  Extension to handle other types or higher
 * dimensionality arrays should now be straightforward.
 *
 * Revision 1.2  1994/06/24  20:38:23  mjl
 * Changed name of struct to tclMatrix to avoid conflicts with C++ Matrix
 * classes.
 *
 * Revision 1.1  1994/06/23  22:42:53  mjl
 * The Tcl Matrix class moved here, since it is useful independent of the
 * Tk driver.
 *
 * Revision 1.2  1994/06/16  21:55:54  mjl
 * Changed to new declaration syntax.  Now declaration must specify variable
 * that holds matrix operator name.  This allows matrix command to place a
 * trace on any unset of the variable, in which case it can clean up after
 * itself.  I.e. when a matrix is declared locally, it goes away
 * automatically when the proc exits (note to itcl users: since itcl does not
 * let you place traces on class data, you will need to either make it global
 * or create a destructor for it).
 *
 * Revision 1.1  1994/06/16  19:28:35  mjl
 * New Tcl matrix command.  Supplies a much-needed new capability to Tcl.
 * Arrays are stored as binary, column-dominant, and contiguous, so that
 * interaction with scientific code API's as well as Tcl is trivial.


tclMain.c:
 * Revision 1.3  1994/06/30  18:52:53  mjl
 * Minor change to eliminate a warning.
 *
 * Revision 1.2  1994/06/24  20:40:45  mjl
 * Created function to handle error condition.  Is handled by indirection
 * through a global pointer, so can be replaced.  This call has to bypass
 * the interpreter since it's important that the interp->result string is
 * not modified.
 *
 * Revision 1.1  1994/06/23  22:43:34  mjl
 * Handles nearly all the important setup for extended tclsh's.  Taken from
 * tclMain.c of Tcl 7.3, and modified minimally to support my needs.


tclAPI.c:
 * Revision 1.5  1994/07/19  22:33:05  mjl
 * Internal header file inclusion changed to /not/ use a search path so that
 * it will work better with makedepend.
 *
 * Revision 1.4  1994/06/30  18:52:09  mjl
 * Added API calls for: plfont, plfontld, plhist, pljoin, plmtex, plptex,
 * plschr, plssub, plsym, plvpor, plwid.
 *
 * Revision 1.3  1994/06/25  20:37:12  mjl
 * Added API calls for pladv, plbop, plbox, pleop, plstyl, plvsta, plwind.
 *
 * Revision 1.2  1994/06/24  20:38:21  mjl
 * Changed name of struct to tclMatrix to avoid conflicts with C++ Matrix
 * classes.
 *
 * Revision 1.1  1994/06/23  22:45:50  mjl
 * Contains functions, a command table, a hash table, and other tools to
 * support calling PLplot functions via Tcl commands.  Support for calling
 * PLplot directly (from pltcl) or by widget commands (from plframe) is
 * provided.


tclMatrix.h:
 * Revision 1.7  1994/06/30  18:38:49  mjl
 * Changed typedef for Mat_int back to an int, and eliminated M?D macros in
 * favor of directly addressing the array.
 *
 * Revision 1.6  1994/06/30  05:45:21  furnish
 * Cobbled together an extension facility which allows a user to define
 * their own subcommands for tclMatricies.  The idea is that you can use
 * this to implement your own matrix processing commands entirely on the
 * compiled side.  fft's, matrix multiplication, inversion, etc.
 *
 * Revision 1.5  1994/06/26  05:16:15  furnish
 * Implemented C++ wrapper class for tclMatrix, enabling easy use of a
 * tclMatrix from compiled extension commands.  Needs to have sibling
 * classes created by someone who cares.
 *
 * Revision 1.4  1994/06/25  20:35:49  mjl
 * Changed typedef for Mat_int to long.  Maybe I should have a Mat_long
 * instead?  Added put/get function handlers to matrix struct (determined
 * when created, dependent on type).
 *
 * Revision 1.3  1994/06/24  20:37:55  mjl
 * Changed name of struct to tclMatrix to avoid conflicts with C++ Matrix
 * classes.  Put in ifdef-ed extern "C" linkage statements for C++.
 *
 * Revision 1.2  1994/06/16  21:57:11  mjl
 * Added matrix operator name to command data struct.
 *
 * Revision 1.1  1994/06/16  19:49:05  mjl
 * Header file for new Tcl matrix command.


pltcl.h:
 * Revision 1.3  1994/07/19  22:34:23  mjl
 * Internal header file inclusion changed to /not/ use a search path so that
 * it will work better with makedepend.
 *
 * Revision 1.2  1994/06/30  18:37:49  mjl
 * Moved function prototypes for generic Tcl support calls into this file.
 *
 * Revision 1.1  1994/06/23  22:41:36  mjl
 * Holds function prototypes and other declarations dealing with Tcl API.


-----------------------------------------------------------------------------
Example programs
-----------------------------------------------------------------------------

All C example programs: made another pass to eliminate warnings when using
gcc -Wall.  Lots of cleaning up: got rid of includes of math.h or string.h
(now included by plplot.h), eliminated redundant casts, put in more
uniform comments, and other minor changes.

All Tcl example programs are new.

x01.tcl through x07.tcl: (new)
# Tcl demo programs, which fully reproduce their x??c counterpart.

x08c.tcl and above are just templates for now.


demos.tcl: (new)
# Revision 1.3  1994/06/30  18:47:34  mjl
# Now sources all the tcl demo files.
#
# Revision 1.2  1994/06/25  20:33:54  mjl
# Moved stuff corresponding to first demo into separate file.
#
# Revision 1.1  1994/06/23  22:39:30  mjl
# New demo file for "pltcl" interpreter.  Needs fleshing out.



xtk02.c:
 * Revision 1.7  1994/07/01  20:44:35  mjl
 * Cruft elimination.
 *
 * Revision 1.6  1994/06/30  05:46:21  furnish
 * Another plot command in tk02 which invokes a private tclMatrix
 * extension for demo purposes.  xtk02.c adds a new tclMatrix subcommand
 * "stuff", and tk02 exercises it.  Dumb, but shows how it all works.
 *
 * Revision 1.5  1994/06/23  22:40:29  mjl
 * Fix to get prototype of pltkMain() correct, and some cleaning up.
 *
 * Revision 1.4  1994/06/16  19:30:25  mjl
 * Changes to use pltkMain() for creating extended wish.  Should be more
 * portable and robust than old method.


xtk01.c:
 * Revision 1.6  1994/06/23  22:40:06  mjl
 * Fix to get prototype of pltkMain() correct.
 *
 * Revision 1.5  1994/06/16  19:30:14  mjl
 * Changes to use pltkMain() for creating extended wish.  Should be more
 * portable and robust than old method.


tk03: (new)
# Revision 1.3  1994/07/27  17:45:09  furnish
# Elucidate bug in plframe destruction mechanism.
#
# Revision 1.2  1994/07/24  07:42:59  mjl
# Eliminated "destroy ." in favor of "exit".
#
# Revision 1.1  1994/07/01  20:44:23  mjl
# Added to illustrate multiple toplevels containing plframes.


tk02:
# Revision 1.9  1994/07/24  07:42:58  mjl
# Eliminated "destroy ." in favor of "exit".
#
# Revision 1.8  1994/07/01  20:44:00  mjl
# Modified to use startup proc plstdwin when configuring main window.
#
# Revision 1.7  1994/06/30  05:46:20  furnish
# Another plot command in tk02 which invokes a private tclMatrix
# extension for demo purposes.  xtk02.c adds a new tclMatrix subcommand
# "stuff", and tk02 exercises it.  Dumb, but shows how it all works.
#
# Revision 1.6  1994/06/17  21:23:11  mjl
# Removed option database settings since they were the same as those set
# in the pldefaults proc.
#
# Revision 1.5  1994/06/16  21:56:32  mjl
# Changed to new matrix declaration syntax.  Locally declared matrices go
# away automatically when the proc exits.  It really works!
#
# Revision 1.4  1994/06/16  19:29:31  mjl
# Changes to use new plframe/matrix API for functions that require array
# arguments.
#
# Revision 1.3  1994/06/10  20:48:34  furnish
# Do a lot more from Tcl.  Still needs work, but waiting on the API
# mirroring to catch up.
#
# Revision 1.2  1994/06/09  20:29:22  mjl
# Changed to new improved megawidget instantiation method.


tk01:
# Revision 1.7  1994/07/24  07:42:57  mjl
# Eliminated "destroy ." in favor of "exit".
#
# Revision 1.6  1994/07/01  20:43:59  mjl
# Modified to use startup proc plstdwin when configuring main window.
#
# Revision 1.5  1994/06/17  21:23:09  mjl
# Removed option database settings since they were the same as those set
# in the pldefaults proc.
#
# Revision 1.4  1994/06/09  20:28:15  mjl
# Changed to new improved megawidget instantiation method.


x14c.c:
 * Revision 1.10  1994/08/10  05:28:50  mjl
 * Ensured that geometry strings are in writable memory as required, and
 * other minor tweaks to improve the demo.


x18c.c: (new)
 * Revision 1.5  1994/07/22  16:03:29  furnish
 * "Little Miss Muffet, sat on a tuffet, eating her curds and whey.
 * Along came a spider and sat down beside her, and frightened Miss
 * Muffet away."
 *
 * Revision 1.4  1994/07/21  10:12:10  mjl
 * Changed plpoin3 to use fast point draw (code=-1).
 *
 * Revision 1.3  1994/07/20  06:06:12  mjl
 * Minor changes to make it easier to play with the altitude/azimuth
 * settings.  Changed to the new API calls for the 3d functions.
 *
 * Revision 1.2  1994/07/19  22:14:05  furnish
 * Added new plots for showing hidden surface removal using pl3poly().
 *
 * Revision 1.1  1994/07/15  20:38:09  furnish
 * Example program to show off 3-d line and point plotting.


x19c.c: (new)
 * Revision 1.1  1994/07/29  20:14:45  mjl
 * Demo for generating world map backgrounds.
 * Contributed by Wesley Ebisuzaki.


-----------------------------------------------------------------------------
Drivers
-----------------------------------------------------------------------------

All device drivers: enabling macro renamed to PLD_<driver>, where <driver>
is xwin, ps, etc.  See plDevs.h for more detail.


xwin.c:
 * Revision 1.47  1994/07/27  22:18:01  mjl
 * Fixed bug in window cleanup and termination that was causing a core dump
 * for apps using multiple plframe widgets.
 *
 * Revision 1.46  1994/07/22  22:20:36  mjl
 * Fixed bug in WM hints, introduced during the last bug fix.  It was causing
 * the window to come up without user intervention and in a poor location for
 * tvtwm.  Now it should get BOTH the default and the user specified cases
 * right regardless of window manager (I hope).
 *
 * Revision 1.44  1994/07/18  20:28:46  mjl
 * Fixed a cast.
 *
 * Revision 1.43  1994/07/01  22:38:04  mjl
 * All display-dependent data broken off into a separate structure.  The X
 * driver now saves only one of these XwDisplay structs for each physical
 * X display.  These are then shared between all PLplot streams.  This
 * ensures that using multiple streams -> multiple X windows does not cause
 * abnormal termination due to running out of resources since most are now
 * shared (allocated colors, graphics contexts, etc).  The drawback is that
 * colors are no longer independent between windows, if created by a single
 * process (but this can also be an advantage).
 *
 * Revision 1.42  1994/06/17  21:21:11  mjl
 * Fixed background color for mono displays, should now come up white (much
 * easier to see).  Middle mouse button press now returns world coordinates
 * at cursor, but only correct for last plot on the page (submitted by
 * Mark Glover glover@zombi.res.utc.com).
 *
 * Revision 1.41  1994/06/09  20:05:58  mjl
 * Fixed Visual handling to support grayscale and mono displays.  Enabled
 * exporting of colormap hack flag for other files (plframe.c) that need it.
 *
 * Revision 1.40  1994/05/27  22:19:17  mjl
 * Window now placed properly when offsets (+x+y) are specified.  Thanks
 * to Mark S. Glover (glover@zombi.res.utc.com) for the fix.


tek.c:
 * Revision 1.31  1994/07/23  04:44:27  mjl
 * Added conditional compilation of atexit() code based on STDC_HEADERS.
 *
 * Revision 1.30  1994/07/22  22:21:28  mjl
 * Eliminated a gcc -Wall warning.
 *
 * Revision 1.28  1994/06/30  17:52:35  mjl
 * Made another pass to eliminate warnings when using gcc -Wall, especially
 * those created by changing a PLINT from a long to an int.
 *
 * Revision 1.27  1994/06/24  04:38:35  mjl
 * Greatly reworked the POSIX_TTY code that puts the terminal into cbreak
 * mode.  Now, initially both the original and modified terminal states are
 * saved.  When the terminal goes into graphics mode, it is also put into
 * cbreak mode.  This ensures that the program gets character-at-a-time
 * input, which is good for quitting <Q> PLplot or for paging in plrender.
 * When the terminal goes into text mode, the original terminal state
 * (canonical input, typically) is restored, which is good for reading user
 * input or command interpreters.  Just make sure you use plgra() and
 * pltext() for switching; if you switch the terminal locally it may get
 * confused until the next plgra() or pltext().
 *
 * Revision 1.26  1994/06/23  22:32:07  mjl
 * Now ensures that device is in graphics mode before issuing any graphics
 * instruction.


ps.c:
 * Revision 1.26  1994/07/12  19:14:41  mjl
 * Fix to prevent postscript interpreter from forgetting the current point
 * location after a color change.  I lost track of who contributed this.
 *
 * Revision 1.25  1994/06/30  17:52:25  mjl
 * Made another pass to eliminate warnings when using gcc -Wall, especially
 * those created by changing a PLINT from a long to an int.


hpgl.c:
 * Added new driver -- HP Laserjet III in HPGL emulation mode (lj_hpgl).
 * Produces fairly small output files (compared to the LJIIP compressed
 * rasters, MUCH smaller than the LJII full rasters).  Contributed by Conrad
 * Steenberg.


plplotX.h:
 * Revision 1.12  1994/07/28  07:42:58  mjl
 * Eliminated old CADDR_T_HACK code.
 *
 * Revision 1.11  1994/07/20  04:03:47  mjl
 * Eliminated include of plplot.h if it's already been included (this file
 * uses a search path since it may be included into user code).
 *
 * Revision 1.10  1994/07/12  19:18:19  mjl
 * Put CADDR_T_HACK code in proper location.
 *
 * Revision 1.9  1994/07/01  22:38:09  mjl
 * All display-dependent data broken off into a separate structure.  The X
 * driver now saves only one of these XwDisplay structs for each physical
 * X display.  These are then shared between all PLplot streams.  This
 * ensures that using multiple streams -> multiple X windows does not cause
 * abnormal termination due to running out of resources since most are now
 * shared (allocated colors, graphics contexts, etc).  The drawback is that
 * colors are no longer independent between windows, if created by a single
 * process (but this can also be an advantage).


drivers.h:
 * Revision 1.20  1994/07/25  06:04:58  mjl
 * Added prototype for new lj_hpgl driver.


-----------------------------------------------------------------------------
TK driver, plframe widget, and support tools
-----------------------------------------------------------------------------

tkshell.c:
 * Revision 1.23  1994/07/26  21:14:36  mjl
 * Improvements to the way PLplot looks for various files.  Now more
 * consistent and flexible.  In particular, environmentals can be set for
 * locations of each directory (for Tcl, binary, and library files).
 * Contributed by Mark Olesen.
 *
 * Revision 1.22  1994/07/25  06:44:27  mjl
 * Wrapped the include of unistd.h in a HAVE_UNISTD_H.
 *
 * Revision 1.21  1994/07/22  22:21:16  mjl
 * Eliminated a gcc -Wall warning.
 *
 * Revision 1.20  1994/07/19  22:31:50  mjl
 * All device drivers: enabling macro renamed to PLD_<driver>, where <driver>
 * is xwin, ps, etc.  See plDevs.h for more detail.  All internal header file
 * inclusion changed to /not/ use a search path so that it will work better
 * with makedepend.
 *
 * Revision 1.19  1994/06/30  18:44:18  mjl
 * Cleaning up, also moved Tk-driver-specific functions to tk.c
 *
 * Revision 1.18  1994/06/23  22:37:30  mjl
 * Minor cosmetic changes.
 *
 * Revision 1.17  1994/06/16  19:15:17  mjl
 * Moved the Tk initialization function for the tk driver into tk.c.  Changed
 * Pltk_Init to include by default some of the other Tcl commands used by
 * the PLplot/Tk driver.  Turned set_auto_path() into pls_auto_path() and
 * made it global.
 *
 * Revision 1.16  1994/06/09  20:27:35  mjl
 * Hacked out direct widget support; this was moved to plframe.c.


tkMain.c:
 * Revision 1.2  1994/06/30  18:45:05  mjl
 * Minor changes to pass gcc -Wall without warnings and other cleaning up.
 *
 * Revision 1.1  1994/06/23  22:39:10  mjl
 * Handles nearly all the important setup for extended wish's.  Taken from
 * tkMain.c of Tk 3.6, and modified minimally to support my needs.


tk.c:
 * Revision 1.44  1994/07/25  06:44:25  mjl
 * Wrapped the include of unistd.h in a HAVE_UNISTD_H.
 *
 * Revision 1.43  1994/07/23  04:45:42  mjl
 * Added code to start plserver with sigprocmask set so that a ^C doesn't
 * kill it (enabled if pls->server_nokill is set).  Contributed by Ian
 * Searle.
 *
 * Revision 1.42  1994/07/22  10:17:48  mjl
 * Bug squashed, introduced in last update.  On issuing a "Q", the cleanup
 * was getting hosed, leaving a spurious plserver window hanging around.
 * Works great now.
 *
 * Revision 1.41  1994/07/21  08:43:27  mjl
 * Eliminated some bogus Tcl-DP initializations when the Tk driver is
 * being used.
 *
 * Revision 1.40  1994/07/19  22:31:48  mjl
 * All device drivers: enabling macro renamed to PLD_<driver>, where <driver>
 * is xwin, ps, etc.  See plDevs.h for more detail.  All internal header file
 * inclusion changed to /not/ use a search path so that it will work better
 * with makedepend.
 *
 * Revision 1.39  1994/07/18  20:30:39  mjl
 * Fixed the eop driver function to flush output even if pause is turned off.
 *
 * Revision 1.38  1994/06/30  18:43:04  mjl
 * Cleaning up to remove gcc -Wall warnings, and other miscellanea.
 *
 * Revision 1.37  1994/06/16  19:13:10  mjl
 * Moved Tk initialization specific to the tk driver into this file.  Changed
 * plserver startup to include the -e <script> option, for running the
 * plserver_init proc at startup.
 *
 * Revision 1.36  1994/06/09  20:27:02  mjl
 * Changed direct widget and initialization commands to reflect changes to
 * plwidget.tcl and plframe.c.


tcpip.c:
 * Revision 1.12  1994/07/28  07:42:39  mjl
 * Fix for side-effect of defining caddr_t in plConfig.h.
 *
 * Revision 1.11  1994/07/26  21:08:47  mjl
 * Put in a user-suggested portability fix (lost track of who sent it).
 *
 * Revision 1.10  1994/07/25  06:04:21  mjl
 * Desuckified header inclusions, and added test for unistd.h before
 * including it.
 *
 * Revision 1.9  1994/07/22  22:20:59  mjl
 * Eliminated a gcc -Wall warning.
 *
 * Revision 1.8  1994/07/21  08:41:56  mjl
 * Introduced some casts to satisfy the IRIX compiler.
 *
 * Revision 1.7  1994/07/19  22:31:46  mjl
 * All device drivers: enabling macro renamed to PLD_<driver>, where <driver>
 * is xwin, ps, etc.  See plDevs.h for more detail.  All internal header file
 * inclusion changed to /not/ use a search path so that it will work better
 * with makedepend.
 *
 * Revision 1.6  1994/06/30  18:45:04  mjl
 * Minor changes to pass gcc -Wall without warnings and other cleaning up.


plwidget.tcl:
# Revision 1.25  1994/07/13  21:40:35  mjl
# Put in status message while waiting for plot to be saved.  Reassures the
# user that the program hasn't crashed, when saving very complicated plots.
#
# Revision 1.24  1994/06/09  20:24:57  mjl
# Massive reorganization and cleaning up.  Main result is that the plplot
# "megawidget" acts much more like a normal Tk widget.  Still not
# configurable; this will require extending it using itcl.  But now,
# creation and mapping is much more straightforward, both directly (from
# plserver or an extended wish) and from the plplot/tk driver.  You can do
# simply:
#
#     plxframe .plw
#     pack append . .plw {bottom fill expand}
#
# and you get a plframe "megawidget", complete with plot menu (with dump,
# zoom, etc) and status label.  Support widgets relevant for the plplot/tk
# driver do not come up unless invoked from the tk driver (by specifying
# a client to connect to).  The main drawback at this point with this method
# is that direct plotting commands in Tcl must be specified using the syntax
# (for the above example) ".plw.plwin cmd <command> <args>", whereas in
# itcl is simply ".plw <command> <args>".


pltools.tcl:
# Revision 1.13  1994/07/01  20:39:57  mjl
# Added proc plstdwin to handle "standard" initialization code.


plserver.tcl:
# Revision 1.18  1994/07/01  20:39:17  mjl
# Moved "standard" initialization code to proc plstdwin in pltools.tcl,
# so it can be used by the demos.
#
# Revision 1.17  1994/06/23  22:34:57  mjl
# Removed an unnecessary "update".
#
# Revision 1.16  1994/06/16  19:08:22  mjl
# exit_app proc simplified -- some of its previous tasks have been absorbed
# into the redefined exit proc.
#
# Revision 1.15  1994/06/09  20:16:28  mjl
# Moved the key_filter proc to plwidget.tcl, since it is better put there.
# Some cleaning up also.


plserver.h:
 * Revision 1.19  1994/07/19  22:31:45  mjl
 * All device drivers: enabling macro renamed to PLD_<driver>, where <driver>
 * is xwin, ps, etc.  See plDevs.h for more detail.  All internal header file
 * inclusion changed to /not/ use a search path so that it will work better
 * with makedepend.
 *
 * Revision 1.18  1994/06/30  18:47:06  mjl
 * Restructured, to make Tk driver more independent of plserver (tk.c no
 * longer includes this file).  Eventually it will be possible to link the
 * Tk driver with Tcl-DP only, and not X or Tk, and the function of the
 * header files must be well defined by then.
 *
 * Revision 1.17  1994/06/23  22:34:22  mjl
 * Now includes pltcl.h for all Tcl API stuff.
 *
 * Revision 1.16  1994/06/16  19:07:08  mjl
 * Include-guarded.  Now includes file tclMatrix.h, to pick up the new matrix
 * command support.  Prototype for plframe() moved here from plplot.h since
 * it shouldn't be necessary for the user to explicitly refer to it any more
 * (in lieu of using Pltk_Init()).


plserver.c:
 * Revision 1.28  1994/07/19  22:31:43  mjl
 * All device drivers: enabling macro renamed to PLD_<driver>, where <driver>
 * is xwin, ps, etc.  See plDevs.h for more detail.  All internal header file
 * inclusion changed to /not/ use a search path so that it will work better
 * with makedepend.
 *
 * Revision 1.27  1994/06/30  18:45:02  mjl
 * Minor changes to pass gcc -Wall without warnings and other cleaning up.
 *
 * Revision 1.26  1994/06/23  22:33:53  mjl
 * Fixed bug introduced in last update concerning exit handling for DP style
 * communication.
 *
 * Revision 1.25  1994/06/16  19:04:32  mjl
 * Massively restructured.  Is now just a front-end to the pltkMain()
 * function.  Structured along the preferred lines for extended wish'es.


plr.c:
 * Revision 1.17  1994/07/18  20:29:58  mjl
 * Fixed the escape function to pass ALL received escape commands.
 *
 * Revision 1.16  1994/06/30  18:43:02  mjl
 * Cleaning up to remove gcc -Wall warnings, and other miscellanea.


plframe.c:
 * Revision 1.39  1994/07/25  06:44:22  mjl
 * Wrapped the include of unistd.h in a HAVE_UNISTD_H.
 *
 * Revision 1.38  1994/07/19  22:31:41  mjl
 * All device drivers: enabling macro renamed to PLD_<driver>, where <driver>
 * is xwin, ps, etc.  See plDevs.h for more detail.  All internal header file
 * inclusion changed to /not/ use a search path so that it will work better
 * with makedepend.
 *
 * Revision 1.37  1994/07/01  22:38:48  mjl
 * Minor modification required by new X resource allocation scheme.
 *
 * Revision 1.36  1994/07/01  20:37:21  mjl
 * Force an "update" when widget is initially mapped, but before startup
 * procedure is invoked.  Ensures that "." has been mapped and that X is
 * in a sane state before continuing (otherwise new toplevels containing
 * plframes can cause a core dump).  Also some cruft elimination.
 *
 * Revision 1.35  1994/06/30  18:40:15  mjl
 * Cleaning up to remove gcc -Wall warnings, and other miscellanea.
 *
 * Revision 1.34  1994/06/23  22:32:47  mjl
 * Split off bulk of Tcl API in to separate file, where it can be used
 * more flexibly.
 *
 * Revision 1.33  1994/06/16  19:03:18  mjl
 * Changed "cmd plline" and "cmd plpoin" widget commands to use new Matrix
 * notation/capabilities/etc.
 *
 * Revision 1.32  1994/06/15  17:21:32  furnish
 * Fix cleanup so that killing a plframe doesn't core the app.
 *
 * Revision 1.31  1994/06/10  20:46:10  furnish
 * Mirror plpoin.  More of the API still needs doing.
 *
 * Revision 1.30  1994/06/09  20:15:30  mjl
 * Changed plplot direct widget commands ("<widget> cmd <command> <args>") to
 * begin with a "pl", e.g. scol<?> to plscol<?>, etc.  To make going between
 * the C and Tcl API's as natural as possible.  Added new direct widget
 * commands plenv, plcol, pllab, and plline.  These were formerly in
 * tkshell.c; having them here makes it trivial to associate independent
 * streams with different widgets without user intervention.  The call to
 * plinit() now done automatically when the widget is first mapped, and
 * the "<widget> cmd init" command no longer supported.  Some reorganization.


pldefaults.tcl:
# Revision 1.3  1994/06/17  21:22:15  mjl
# Removed check for color system before setting resources.  Eliminates some
# problems with the Tk/DP drivers on mono displays.


plcolor.tcl:
# Revision 1.4  1994/06/09  20:09:18  mjl
# Changed plplot direct widget commands to begin with a "pl", e.g. scol<?>
# to plscol<?>, etc.  To make going between the C and Tcl API's as natural
# as possible.


plclient.tcl:
# Revision 1.4  1994/06/09  20:07:54  mjl
# Eliminated references to a plw_init_proc, now obsolete.


PLXWin.tcl:
# Revision 1.1  1994/06/10  20:43:57  furnish
# New extended plframe itcl widget.


PLWin.tcl:
# Revision 1.5  1994/06/16  18:33:51  mjl
# Modified argument lists for plline and plpoin methods to use matrix names.
#
# Revision 1.4  1994/06/10  20:46:58  furnish
# Mirror plpoin.  More of the API still needs doing.
#
# Revision 1.3  1994/06/09  20:07:13  mjl
# Cleaned up and switched to plplot direct commands embedded in plframe
# widget (through "<widget> cmd <command> <args>" syntax).


plplotTK.h:
 * Revision 1.3  1994/07/19  22:34:22  mjl
 * Internal header file inclusion changed to /not/ use a search path so that
 * it will work better with makedepend.
 *
 * Revision 1.2  1994/06/30  18:36:37  mjl
 * Minor change to what header files are included.


-----------------------------------------------------------------------------
utilities
-----------------------------------------------------------------------------

pltcl.c is new: the source code for the "pltcl" Tcl-based PLplot
interpreter.

pltcl.c:
 * Revision 1.4  1994/07/19  22:33:16  mjl
 * Internal header file inclusion changed to /not/ use a search path so that
 * it will work better with makedepend.
 *
 * Revision 1.3  1994/06/30  18:55:50  mjl
 * Minor changes to eliminate gcc -Wall warnings.
 *
 * Revision 1.2  1994/06/24  20:41:35  mjl
 * Added error handler specific to pltcl.  Ensures output device is in text
 * mode before issuing error message.
 *
 * Revision 1.1  1994/06/23  22:51:28  mjl
 * A plotting interpreter that uses Tcl to drive PLplot primitives.  This can
 * be used with virtually any PLplot output driver.  The executable is an
 * extended tclsh that has been embellished with a (soon to be) large set
 * of Tcl commands for executing PLplot graphics calls.  The scripts are not
 * the same as those that plserver can execute, as the latter is object-based
 * and uses widget commands, whereas pltcl uses global commands to drive
 * PLplot.  The two style of commands are similar enough, however (differing
 * only by an introducer) that a text filter could be used to go between
 * them.


plrender.c:
 * Revision 1.40  1994/07/12  19:22:49  mjl
 * Small change to ensure that cmap0 palette "sticks" when plot is saved from
 * Tk driver.


-----------------------------------------------------------------------------
DOS drivers
-----------------------------------------------------------------------------

The djgpp driver has been upgraded to work with new configure mechanism.
The others still need to be updated.

Various bugs fixed.

-----------------------------------------------------------------------------
Amiga driver
-----------------------------------------------------------------------------

Didn't finish upgrading to new configure mechanism, so unfortunately is
currently unusable.  Will fix ASAP.
