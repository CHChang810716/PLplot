
To build, you need first to get PLplot. You can find it at

	ftp://plplot.sourceforge.net/pub/plplot/plplot-5.0.0.tar.gz

Unpack it in a suitable directory, such as /usr/local/src:

	cd /usr/local/src
	gunzip -c plplot-5.0.0.tar.gz | tar xvf -

Apply the following patch:

	cd plplot-5.0.0
	patch -c -l	< <this_directory>/plplot-5.0.patch 

Then ./configure. You *must* use the 'double' version of the library.

# plplot configure example with Tcl/Tk and shared libs (your platform might
not be supported)

	./configure --with-gcc=yes --enable-f77=no --enable-cxx=no \
	--with-double --with-shlib --disable-itcl --disable-dp

If you want Tk support, you can use Tcl/Tk versions 7.6/4.2 up to 8.0 (tested)
They must be already installed.

There are some problems making plplot. All trivial.

Then 'make', 'make cdemos', 'cd tmp', and run the demos:

Run the xwin demos:

	for i in x??c; do ./$i -dev xwin; done	

Run the tk demos, if you build with tk support

	for i in x??c; do ./$i -dev tk; done	

and finaly, install,

	make install

You might have some minor problems again.

Then, unpack this distribution (you have already done it).

You have a 'demo' directory, which has the plplot demos C sources,
x??c.c, the equivalent octave script files, x??c.m, and some new demos,
p??.m.

You have a 'PLplot' directory with modified versions of the standard
octave plot command, plus a lot of new ones ready for Octave use. You
must have it on your LOADPATH before the standard octave/gnuplot plot
scripts. If you install it in the octave 'm' directory, usually
/usr/local/share/octave/<version>/m/ this will happen automatically.
Else, use the octave command `octave_plplot_path' to setup the path. You
can change between the default gnuplot plotter and octave_plplot using
the octave command `use_plplot'.

You have a misc directory with some other octave demos/utilities.

You have an etc directory where the "documentation" is. You are not advised
to do a 'make distclean' in this directory, as you might lack some
needed utilities.

You have the directory where the LICENCE, README, INSTALL, PROBLEMS,
BUGS, ToDo, are, plus 'plplot.h', 'plplot_octave.cc', 'plplot_stub.m',
massage.c, etc.

plplot.h is the main (only) important file. It is a massaged version of plplot's
plplot.h file, ready for use with Holt's matwrap, which you can find at

	http://www.klab.caltech.edu/~holt/matwrap/ (but you dont need it)

As usual, you should get the last version, 0.57 at the time of this
writing. But you don't need it, the included 'plplot_octave.cc' is
the result of running matwrap on 'plplot.h'. See the Makefile.

You might have some warnings. These are normal.

Now, you are finally ready to build what you really want, plplot support
under octave. You have a Makefile, but it is mainly for my use, so you might
have to change it.

# double precision library with tk support
# The  -lsocket -lm libraries might not be needed in your system

mkoctfile plplot_octave.cc -lplplotdtk -lMatrix \
 -ltk8.0 -ltcl8.0 -lX11 -lsocket -lm

Or, just 'make'.

Now, make shure that the current directory is in octave loadpath,
*before* the standard loadpath, and
 
$ octave
octave> LOADPATH
LOADPATH = .//:/usr/local/share/octave/2.1.30/m//

octave> p1
octave> p2

# you have several Octave demos, up to p20. Try them:

octave> for i=[1:9 11:14 19:20]; feval(sprintf("p%d",i));kbhit;endfor;oneplot

octave> plplot_octave_demo

# theses are the same demos of the plplot distribution, but adapted for
# running under Octave

# demo x14c might fail, if you have problems with tk.

You can set some preferences in the file pldef.m

to install,

	cp -r PLplot <where you want it/PLplot>

As with every program, except D. Knuth ones, the programs in this
package are not finished nor bug free. Please report bugs and send
patches.

Enjoy,

Joao, jcardoso@inescn.pt
