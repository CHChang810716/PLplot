# -*-makefile-*----------------------------------------------------------------
# $Id$
#
# Maurice LeBrun
# IFS, University of Texas at Austin
# 22-Jul-1994
#
# Miscellaneous targets.
# -----------------------------------------------------------------------------

# Cleanup
# Get rid of tmp directories, then tmp files, then m4-generated files, then
# configure-time generated symlinks in tk/examples.

clean:
	-$(RM) -rf shared plplot java drivers ti_files python_dynamic plplot_octave_txt
	find . ! -name . \( -newer .plcfg -o -type l \) -exec rm {} \;
	for filename in $(top_srcdir)/bindings/f77/*.fm4; \
	do  \
	ffilename=`echo $$filename | sed 's/\.fm4$$/.f/'`; \
	$(RM) $$ffilename ; \
	done
	for filename in $(top_srcdir)/examples/f77/*.fm4; \
	do  \
	ffilename=`echo $$filename | sed 's/\.fm4$$/.f/'`; \
	$(RM) $$ffilename ; \
	done
	for filename in $(top_srcdir)/examples/tcl/x??.tcl; \
	do  \
	ffilename=`echo $$filename | sed 's?examples/tcl?examples/tk?'`; \
	$(RM) $$ffilename ; \
	done
	$(RM) .plcfg

distclean: clean

# Autogeneration of dependencies.  Use gcc -MM because X11's "makedepend"
# includes system headers, and that really sucks.  Generate dependencies
# for /all/ files here.

depend:
	gcc -MM -I. *.c *.cc | sed 's/\.o/\$$O/' >objs.in
	@echo "Rerun configure for the new dependencies to take effect"

# -----------------------------------------------------------------------------
# Auto-generated dependency list follows (warning: it's ugly).

