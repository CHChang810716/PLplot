This file contains a list of the major changes in PLPLOT.  It is best to look
through this file for new features, etc, until the new documentation is
complete.

I typically construct entries by stripping off all the CVS (the source
maintenance program we use) commit messages from each file.  Those that
are common to all are handled separately to make it a bit less junky.
Minor stuff I feel free to omit.

*****************************************************************************
PLPLOT 4.99g changes
May 27, 1994
*****************************************************************************

This is a MAJOR release.  Changes grouped by files affected.
The old Changes.log file has been moved to the doc directory for future
reference.

Maurice LeBrun	mjl@dino.ph.utexas.edu

-----------------------------------------------------------------------------
Documentation
-----------------------------------------------------------------------------

The document is in a MAJOR state of flux.  I take no responsibility for
any problems encountered with it, but you are free to take a look.

We have made substantial progress towards converting the (previously
LaTeX) document into LaTeXinfo.  This gives us the capability to have both
a high quality (yes, if you work at it hard enough) printed manual as well
as a hypertext-like online document, using info.  There are many info
readers around but the most famous is the one built into Emacs.  An info
document is now available and not half bad, but unfortunately mostly still
based on information as of the beta plplot4.0 series.  

The top level files: README, and ToDo have been brought up to date.

From all the questions sent my way, a PLplot FAQ has been created!!  Enjoy.

-----------------------------------------------------------------------------
Install scripts, makefile, etc.
-----------------------------------------------------------------------------

configure: changed so that now you can run it from the root directory.
Too many people thought it was GNU configure and were puzzled when it
didn't work.  So why not go further -- now it recognizes the GNU configure
--prefix option, for setting the location to install PLplot.  This is set
to override whatever you have set (if you have it set) in your
~/config/cf_plplot.m4, if you have one (whew).  Support for the Tcl-DP
extension added, and maybe more (can't remember).

Makefile:

A top-level makefile has been added.  It just does a cd to tmp, and then
recursively runs make on the specified target (not all targets supported).
Created so that PLplot can be installed just like GNU software (cd
plplot4p99g; configure; make; make install), in principle.


cf_basic.m4:

The DEF_xx macros moved here to avoid problems in the future.  This means
you must delete all DEF_xx macros in existing cf_plplot.m4 files, sorry.


cf_depend.m4:

Various changes to reflect consolidated drivers, source files, new
dependencies, etc.  Now pass the flags $(BIN_DIRFLAG), $(LIB_DIRFLAG), and
$(TCL_DIRFLAG), for those files with a need to know.  Added build of
"pltek" to default build list.


cf_plplot.m4 :

Removed DEF_xx flags since they sometimes caused problems with upgrades.
Added note about overriding INSTALL_DIR with configure prefix option,
also about meaning of the first few 'define's in the file.


makefile.m4 :

DEFAULT INSTALL DIRECTORY PROCEDURE CHANGED!!!!!
Now PLplot by default installs into:
	prefix-dir/
		bin/
		lib/
		include/
		doc/
		tcl/
It had to be done before it was too late.  Makefile overrides default
value of INSTALL_DIR if m4 macro PREFIX is defined.  Passes values for
TCL_DIRFLAG, BIN_DIRFLAG, LIB_DIRFLAG for files with a need to know.


mklinks :

New, used for bringing up and backing down PLplot versions, using
softlinks into a widely-accessed area such as /usr/local/bin,
/usr/local/lib, etc.  Read the internal notes to see why you might
want to do this.  Works great (based on the "installtk" script I wrote
that does something similar for Tcl/TK).


-----------------------------------------------------------------------------
Main source files
-----------------------------------------------------------------------------

All source files handling API: 
 * replaced call to plexit() on simple
 * (recoverable) errors with simply printing the error message (via
 * plabort()) and returning.  Should help avoid loss of computer time in some
 * critical circumstances (during a long batch run, for example).


pdfutils.c:
 * Revision 1.9  1994/04/08  12:29:00  mjl
 * Now always keeps track of bytes written or read, for use by drivers
 * that need that info.
 *
 * Revision 1.8  1994/03/23  07:26:56  mjl
 * Changed Alloc2dGrid to plAlloc2dGrid, Free2dGrid to plFree2dGrid.
 * Eliminated special malloc include handling.
 *
 * Revision 1.7  1994/01/15  17:24:59  mjl
 * All PDF functions changed to accept a pointer to a PDFstrm instead
 * of a file handle, to enable PDF operations to/from a memory buffer.
 * New PDF front-ends to fopen, fclose, getc, putc added.  pdf_bopen()
 * added for initialization of memory buffer.


plargs.c:
 * Revision 1.20  1994/05/16  21:29:39  mjl
 * Changes to plSetInternalOpt: the first argument is no longer required to
 * have a leading dash.
 *
 * Revision 1.19  1994/03/23  07:50:37  mjl
 * Added new plplot base options:
 *
 *  -hack		Set to enable some driver-specific hack
 *  -fbeg number	First family member number on output
 *  -finc number	Increment between family members
 *  -fflen length	Family member number minimum field width
 *
 * Revision 1.18  1994/02/01  22:47:49  mjl
 * Added -user <user> flag, for specifying user when invoking plserver
 * remotely (via remsh).
 *
 * Revision 1.17  1994/01/25  06:38:26  mjl
 * -db option (double buffering) added, for use with any of the X-based
 * drivers.  This holds the window fixed while drawing only into the pixmap,
 * until the end of page is seen.  Then the contents of the pixmap are
 * blitted to the window.  This allows for an animation-type facility for
 * properly constructed sequences (e.g. fixed axes) of plots.  Note, however,
 * that this is no substitute for a /real/ animation capability since
 * the speed of playback is determined by how much data has to be read
 * and processed for each frame (thus can be somewhat variable).
 *
 * Revision 1.16  1994/01/15  17:28:22  mjl
 * Added new args: -server_name, -server_host, -server_port.  -server_name is
 * used with the TK driver to specify plserver's TK main window name, if
 * already running.  -server_host and -server_port are used for the DP
 * driver, for specifying the host to run it on, and the communications port
 * (if already running).


plbox.c:
 * Revision 1.12  1994/04/30  16:15:04  mjl
 * Fixed format field (%ld instead of %d) or introduced casts where
 * appropriate to eliminate warnings given by gcc -Wall.
 *
 * Revision 1.11  1994/04/08  12:29:28  mjl
 * Hack to prevent labels like "-0.0" on some systems, caused by roundoff.


plcont.c:
 * Revision 1.11  1994/03/23  07:56:35  mjl
 * Changed name of plcontf() to plfcont(), as part of the new 2d function
 * plotter API.  plcontf is now a macro for backward compatibility.


plcore.c:
 * Revision 1.31  1994/05/07  03:23:07  mjl
 * Eliminated some obsolete operations involving fgcolor and bgcolor.
 *
 * Revision 1.30  1994/04/30  16:15:06  mjl
 * Fixed format field (%ld instead of %d) or introduced casts where
 * appropriate to eliminate warnings given by gcc -Wall.
 *
 * Revision 1.29  1994/04/08  12:31:39  mjl
 * Removed driver interface handling of nopause (it was a bad idea).  Added
 * call to (*plsc->tidy) [if defined] in plP_tidy.  Added a function
 * plsMouseEH for setting the mouse event handler (contributed by Radey
 * Shouman).
 *
 * Revision 1.28  1994/03/23  08:02:48  mjl
 * Provided for handling more basic operations in the driver interface rather
 * than the drivers themselves (pls->nopause, resetting stream parameters
 * after a tidy, etc).  Added support for hardware fill -- if the device does
 * not support the operation, the function plfill_soft is used instead.
 * Pattern fill number set/get access functions added.
 *
 * Many debugging remnants from driver interface development removed.
 *
 * Many functions moved elsewhere (this file has gotten too large):
 *
 * 	plwarn plexit plcol0 plcol1 plrgb plrgb1 plscolbg plscol0 plgcol0
 * 	plscmap1 plscmap1f1 plscolor
 *
 * Revision 1.27  1994/01/25  06:23:26  mjl
 * Moved default setting of digits variables to the correct location.
 *
 * Revision 1.26  1994/01/18  06:01:38  mjl
 * Now set default number of digits in numeric labels for axis to be switched
 * to scientific notation.  Before this capability had to be enabled by the
 * user.  The number of digits defaults to x:4, y:4, z:3 (xy or xyz plots).
 *
 * Revision 1.25  1994/01/17  21:36:51  mjl
 * Added function c_plgcol0 for retrieving RGB color values from cmap0
 * entries.  User-contributed (I lost track of who sent it).


plctrl.c:
 * Revision 1.19  1994/05/24  19:56:47  mjl
 * Changed INSTALL_DIR to BIN_DIR for locating executables.
 *
 * Revision 1.18  1994/05/10  21:52:10  mjl
 * Split off cmap1 calculation into plcmap1_calc() to make it easier to just
 * change a single control point from the plframe widget.
 *
 * Revision 1.17  1994/05/07  03:23:46  mjl
 * Eliminated all references to fgcolor and bgcolor.  Operations involving
 * the latter changed to deal with cmap0[0].
 *
 * Revision 1.16  1994/04/30  16:15:09  mjl
 * Fixed format field (%ld instead of %d) or introduced casts where
 * appropriate to eliminate warnings given by gcc -Wall.
 *
 * Revision 1.15  1994/04/25  19:08:28  mjl
 * Lots of fixes/improvements to plscmap1l to support TK palette
 * manipulators.  New function plRGB_HLS added.
 *
 * Revision 1.14  1994/04/08  12:33:22  mjl
 * Changed exit handler behavior.  Now it is called /prior/ to the stream
 * cleanup, which is more useful.  Also it is passed the error message and
 * is expected to return (if it returns) an exit code.  Prototype is:
 * static int    (*exit_handler) (char *);
 *
 * Revision 1.13  1994/03/30  07:27:16  mjl
 * Put in better handling for roundoff-generated errors in color map
 * selection.
 *
 * Revision 1.12  1994/03/23  08:11:11  mjl
 * Many functions moved into this file (from plcore.c):
 *
 * 	plwarn plexit plcol0 plcol1 plrgb plrgb1 plscolbg plscol0 plgcol0
 * 	plscmap1 plscmap1f1 plscolor
 *
 * Significant changes made to operation of old routines that manipulate the
 * color map.  plscmap1l added to set color map 1 colors using a piece-wise
 * linear relationship between intensity [0,1] (cmap 1 index) and position in
 * HLS or RGB color space.  plscmap0n added to determine the number of colors
 * to use in cmap 0 (must be called before plinit, or cmap 0 allocation).
 * This helps free up unused colors that can be used in cmap 1.
 *
 * Color 0 (in cmap 0) now defaults to black.  This is done for consistency
 * with 16 color tek displays, where color 0 is the background.  You can
 * always change it back if you want the old way (in fact, you are encouraged
 * to not rely on the default color map now that there's a supported way of
 * changing it).
 *
 * plabort() added to be almost identical to plwarn(), except for message
 * content.  Now used before a return on most error conditions.


plfill.c:
 * Revision 1.13  1994/04/30  16:15:11  mjl
 * Fixed format field (%ld instead of %d) or introduced casts where
 * appropriate to eliminate warnings given by gcc -Wall.
 *
 * Revision 1.12  1994/03/23  08:12:54  mjl
 * Split into two routines, one as a front-end to the driver interface fill
 * routine, and the other as a target of the driver interface when the driver
 * doesn't support the desired fill capability.


plfont.c:
 * Revision 1.12  1994/05/24  19:56:56  mjl
 * Changed INSTALL_DIR to LIB_DIR for locating fonts.


plline.c:
 * Revision 1.12  1994/03/23  08:21:33  mjl
 * Fiddled endlessly with plP_plfclp() trying to correctly clip polygons
 * after a zoom (in TK driver).  Eventually realized it was resistant against
 * quick hacks and got out the big gun: Foley, VanDam, et al (2nd ed), p 930:
 * the Liang-Barsky Polygon Algorithm.  Unfortunately I don't have time to
 * implement this right now; how about a volunteer?
 *
 * Revision 1.11  1994/01/25  06:34:20  mjl
 * Dashed line generation desuckified!  Should now run much faster on some
 * architectures.  The previous loop used only conditionals, assignments, and
 * integer adds at the cost of a huge number of iterations (basically testing
 * each pixel).  The new method draws directly to the desired end of dash.
 * Contributed by Wesley Ebisuzaki.
 *
 * Revision 1.10  1994/01/17  19:27:15  mjl
 * Bug fix: changed declarations of xclp[] and yclp[] from static to local
 * variables in plP_pllclp() and plP_plfclp(). plP_pllclp can call itself
 * consequently it needs local variables. Fixed problem with dash line and
 * orientation=1.  (Submitted by Wesley Ebisuzaki)


plot3d.c:
 * Revision 1.11  1994/05/13  22:56:35  mjl
 * Fixed an old bug -- it was innocuous in the company of the allocation bugs
 * fixed in the last update, which is why it wasn't discovered before now.
 * Now plots correctly as well as frees all memory allocated.
 *
 * Revision 1.10  1994/04/08  12:34:21  mjl
 * Fixed some cases of allocating memory and never freeing it.  Also changed
 * some previously fatal errors into recoverable ones.
 *
 * Revision 1.9  1994/03/23  08:22:00  mjl
 * Cruft elimination.


plsdef.c:
 * Revision 1.9  1994/03/23  08:24:33  mjl
 * Added support for hardware fill patterns (negative).


plshade.c:
 * Revision 1.8  1994/04/30  16:15:12  mjl
 * Fixed format field (%ld instead of %d) or introduced casts where
 * appropriate to eliminate warnings given by gcc -Wall.
 *
 * Revision 1.7  1994/03/23  08:29:58  mjl
 * Functions from plctest.c moved to this file for clarity and simplicity.
 * Main shade function now accepts a function evaluator and data much like
 * the contour functions.  Front-ends exist (plshade1(), plshade2()) to call
 * it in a simpler fashion, using predefined memory organizations for the
 * array.  Also, main shade function now accepts two arguments for handling
 * color of the shaded region -- the color map (0 or 1) and the index
 * (a float; >1 and integral for cmap0, in range [0,1] for cmap1).
 *
 * Revision 1.6  1993/12/09  20:36:52  mjl
 * Fixed some function prototypes.


plstream.c:
 * Revision 1.15  1994/05/10  21:52:45  mjl
 * Put in a slight optimization in cmap1 color interpolation.
 *
 * Revision 1.14  1994/04/30  16:15:13  mjl
 * Fixed format field (%ld instead of %d) or introduced casts where
 * appropriate to eliminate warnings given by gcc -Wall.
 *
 * Revision 1.13  1994/03/23  08:32:34  mjl
 * Moved color and color map handling functions into plctrl.c.
 * Changed file open routine to support new options for sequencing family
 * member files.
 *
 * Revision 1.12  1994/01/15  17:28:59  mjl
 * Added include of pdf.h.

-----------------------------------------------------------------------------
Fortran interface
-----------------------------------------------------------------------------

sccont.c:
 * Revision 1.3  1994/03/23  08:38:37  mjl
 * Name change for contour plotter base routine; lots of new plfshade
 * front-end functions added.


scstubs.c:
 * Revision 1.18  1994/03/23  08:39:10  mjl
 * Fixed some stubs to the cmap 1 handlers.

sfstubs.fm4:
! Revision 1.2  1994/04/08  12:27:25  mjl
! Added missing variable declarations.
!
! Revision 1.1  1994/03/30  07:29:40  mjl
! Moved fortran interface files up one level -- no longer separate single
! and double precision files.  Implemented m4 expansion of REAL into either
! real*4 or real*8 depending on configure settings, for portable builds
! of either the single or double precision library without copying files.
! Files with .fm4 suffix must be run through m4 to become normal fortran
! files.

-----------------------------------------------------------------------------
Example programs
-----------------------------------------------------------------------------

All C example programs: 
 * special handling for malloc re: header
 * files eliminated, include of stdio.h and stdlib.h eliminated (now done
 * by plplot.h), include of "plplot.h" changed to <plplot.h> to enable
 * simpler builds by the general user, some cleaning up also.


x14c.c:
 * Revision 1.8  1994/05/14  05:43:56  mjl
 * Now uses the DP driver and finally works the way I always wanted it to.


x16c.c:
 * Revision 1.3  1994/04/25  19:02:55  mjl
 * Increased the number of shade regions to make it a bit more interesting
 * when playing with the palette.
 *
 * Revision 1.2  1994/04/08  12:08:21  mjl
 * Cleaned up some, switched to more interesting test function.
 *
 * Revision 1.1  1994/03/30  07:22:55  mjl
 * Added to test specifically color fill capability of plshade, with optional
 * coordinate mapping.


x17c.c:
 * Revision 1.1  1994/04/08  12:08:54  mjl
 * Preliminary stab at a strip chart demo (doesn't work yet).

For use with TK:

xtk01c.c: 
 * new, demo of direct widget plotting

xtk02c.c: 
 * new, demo of direct widget plotting using [incr tcl]


All Fortran example programs changed to use a "!" as a comment character.
This works better with Lucid emacs font-locking (presumably hilite mode
in Emacs 19 too) in that it is a real comment introducer.  And most
Fortran compilers for 10 years have supported it.  For the truly backward
compiler that may still exist out there, I wrote the utils/fixfort awk
script to strip out all bang comments, so use that if you must.

x16f.f:
 new, Demonstration of plshade plotting      


-----------------------------------------------------------------------------
Font support
-----------------------------------------------------------------------------

stndfont.c:
xtndfont.c:
 * Revision 1.7  1994/03/23  06:56:24  mjl
 * Eliminated special handling for malloc includes, and finally tossed the
 * old BINARY_WRITE etc macros.  This IS ANSI C, you know.
 *
 * Revision 1.6  1994/01/15  17:22:18  mjl
 * Changed to new PDF function syntax.


-----------------------------------------------------------------------------
Include files
-----------------------------------------------------------------------------

drivers.h:
 * Revision 1.18  1994/05/25  21:58:25  mjl
 * Function prototypes for Win3 driver, contributed by Paul Casteels.
 *
 * Revision 1.17  1994/05/25  09:36:57  mjl
 * All VGA driver function names now end with "_vga", a nice simplification.
 * Since all are compiler-dependent and mutually exclusive, this should pose
 * no problem.  Also HP pen plotter driver were consolidated.  Both
 * contributions by Mark Olesen (olesen@weber.me.queensu.ca).
 *
 * Revision 1.16  1994/04/08  12:09:37  mjl
 * Added prototypes for new ljiip driver.
 *
 * Revision 1.15  1994/03/23  06:57:46  mjl
 * Changed function names in prototypes for xterm, mskermit, and added
 * prototypes for versaterm and vlt drivers (minor tek devices).
 *
 * Revision 1.14  1994/01/15  17:32:14  mjl
 * Added include of pdf.h.
 *
 * Revision 1.13  1993/12/21  10:34:40  mjl
 * Added prototype for new dp driver initialization function.


pdf.h:
 * Revision 1.9  1994/04/08  12:10:08  mjl
 * Moved unsigned type defines to this header file.
 *
 * Revision 1.8  1994/03/23  06:58:11  mjl
 * Minor change to file wrapper to make consistent with rest of package.
 *
 * Revision 1.7  1994/02/07  23:02:38  mjl
 * PLiodev struct defined.
 *
 * Revision 1.6  1994/01/15  17:33:16  mjl
 * Added typedef of PDFstrm and wrapped function prototypes in a macro so
 * the header can be read without problems by K&R compilers (cc).


plcore.h:
 * Revision 1.20  1994/05/25  21:56:46  mjl
 * Dispatch table entries for Win3 driver, contributed by Paul Casteels.
 *
 * Revision 1.19  1994/05/25  09:36:58  mjl
 * All VGA driver function names now end with "_vga", a nice simplification.
 * Since all are compiler-dependent and mutually exclusive, this should pose
 * no problem.  Also HP pen plotter driver were consolidated.  Both
 * contributions by Mark Olesen (olesen@weber.me.queensu.ca).
 *
 * Revision 1.18  1994/04/08  12:10:37  mjl
 * Added dispatch table entries for new ljiip driver.
 *
 * Revision 1.17  1994/03/23  06:59:00  mjl
 * Name changes for xterm & mskermit driver functions, addition of versaterm
 * and vlt driver functions.
 *
 * Revision 1.16  1993/12/21  10:35:07  mjl
 * Added entry for new Tcl-DP driver.


plevent.h:
 * Revision 1.1  1993/01/23  05:36:01  mjl
 * This file added for inclusion by all user-defined event handlers to be
 * used with plplot.  It contains constant definitions used to transmit
 * info on the event that occurred (e.g. keystroke definitions).


plplot.h:
 * Revision 1.61  1994/05/14  05:45:17  mjl
 * Added a new parse flage -- PL_PARSE_NODASH -- for allowing options
 * that don't begin with a dash.  Used for plSetInternalOpt, where
 * now the user can either include the dash or not.
 *
 * Revision 1.60  1994/05/10  21:50:26  mjl
 * Changed name of position field in PLControlPt typedef.
 *
 * Revision 1.59  1994/04/25  19:04:51  mjl
 * Added typedef for PLControlPt, used in specifying cmap1.  Added function
 * prototypes for plHLS_RGB (new) and plRGB_HLS (now global), for converting
 * between HLS and RGB color specifications.
 *
 * Revision 1.58  1994/04/18  20:02:59  furnish
 * Autodetect inclusion of tk.h.
 *
 * Revision 1.57  1994/04/18  19:23:25  furnish
 * Added new function Pltk_Init to allow users to easily construct PLPLOT
 * enhanced application specific extended wishen.  Works great, needs advert.
 *
 * Revision 1.56  1994/04/08  12:12:27  mjl
 * Moved PLESC tags to this file to make them more accessible to users.
 * Added PLESC_EH tag for flushing the event queue only.  Added PLMouse
 * event struct typedef.  Changed prototype for plsexit().
 *
 * Revision 1.55  1994/03/23  07:03:36  mjl
 * plplot.h now includes stdio.h and stdlib.h !  This change afforded a
 * significant simplification of the header file structure, and should
 * rarely be an imposition (most files require these anyway).  Many new
 * function prototypes added, such as the color and colormap setting
 * functions for dealing with cmap 1, and plshade and its siblings.
 *
 * Revision 1.54  1994/03/22  23:18:01  furnish
 * Include a prototype for plFrameCmd if using Tk.
 *
 * Revision 1.53  1994/01/17  21:34:21  mjl
 * Added function prototype for c_plgcol0().
 *
 * Revision 1.52  1994/01/15  17:33:42  mjl
 * Bumped version number, defined prototype wrapper macro.


plplotP.h:
 * Revision 1.20  1994/05/20  22:25:14  mjl
 * Switched order of inclusion of plplot.h with system-specific defines to
 * ensure that all sick hacks are made before too much damage occurs
 * (specifically to fix a problem on the Cray, caddr_t again, sigh).
 *
 * Revision 1.19  1994/05/10  21:51:04  mjl
 * Added prototype for new function plcmap1_calc().
 *
 * Revision 1.18  1994/04/08  12:13:14  mjl
 * Removed PLESC tag defs (now in plplot.h) and unsigned var defs (now in
 * pdf.h).
 *
 * Revision 1.17  1994/03/23  07:05:51  mjl
 * Cruft elimination, including stuff that was for dealing with non-ANSI
 * or marginally ANSI compliant compilers (special treatment for malloc
 * includes, etc).  New function prototypes, and new defines for PLSTATE
 * settings governing changes to cmap 1 and/or the color palette.
 *
 * Revision 1.16  1994/01/15  17:34:27  mjl
 * Minor documentation addition.


plplotTK.h:
 * Revision 1.1  1994/04/08  12:21:18  mjl
 * Added to allow access to TK driver internals by determined users.


plplotX.h:
 * Revision 1.7  1994/05/23  22:09:24  mjl
 * Eliminated the "pixels" var as it is no longer being used.
 *
 * Revision 1.6  1994/05/16  21:26:53  mjl
 * Added ncol0 for storing number of colors allocated in cmap0.
 *
 * Revision 1.5  1994/05/07  03:20:40  mjl
 * Added entry for: XVisualInfo *vi to XwDev struct, and prototype for new
 * global function PLX_save_colormap.
 *
 * Revision 1.4  1994/04/30  16:16:32  mjl
 * Eliminated unused variables xold, yold, from XwDev definition.
 *
 * Revision 1.3  1994/04/08  12:15:16  mjl
 * Added CADDR_T_HACK -- define this and the typedef of caddr_t will be
 * made here for braindead systems.  Added prototype for user specified
 * X event handler (MasterEH).  Include of plstream.h now uses the
 * search path.
 *
 * Revision 1.2  1994/03/23  07:06:22  mjl
 * Properly wrapped and commented.


plserver.h:
 * Revision 1.15  1994/04/08  11:53:59  mjl
 * Split off some stuff into the new file plplotTK.h, and made some function
 * name changes to help keep the namespace consistent.
 *
 * Revision 1.14  1994/03/23  06:54:14  mjl
 * Include of "plplotio.h" (no longer existant) eliminated.
 *
 * Revision 1.13  1994/03/22  23:17:35  furnish
 * Avoid collision with user code when he wants to make a custom wish
 * combined with PLPLOT.
 *
 * Revision 1.12  1994/02/07  22:57:14  mjl
 * Fixed up prototypes for pl_PacketReceive and pl_PacketSend.
 *
 * Revision 1.11  1994/01/15  17:40:04  mjl
 * Changed PLRDev definition to use pointer to PDFstrm instead of file
 * handle.  Added prototypes for new socket i/o functions.


plstream.h:
 * Revision 1.28  1994/05/07  03:22:08  mjl
 * Eliminated bgcolor, fgcolor, and bgcolorset.  Now fgcolor is a figment of
 * the X driver's imagination :-).  bgcolor is identically the same as the
 * 0th entry of cmap0.  About time I introduced some sanity to these.
 *
 * Revision 1.27  1994/04/25  19:05:33  mjl
 * Additional support for cmap1 palette.
 *
 * Revision 1.26  1994/04/08  12:20:49  mjl
 * Now includes <plplot.h> in case it hasn't been included yet.  File offset
 * for metafile removed from state structure (now local to driver).  Added:
 * * MouseEH		void*	Mouse event handler
 * * MouseEH_data	void*	Pointer to client data to pass
 * * tidy          	void*   pointer to cleanup routine
 * * tidy_data     	void*   pointer to client data to pass
 * ("tidy" is a user customization tidy routine, to be called before
 * closing a stream to do any program specific cleanup.)
 *
 * Revision 1.25  1994/03/23  07:10:51  mjl
 * Added documentation for all variables not described yet.  Changed some
 * variables used in color map selection.  Added variables:
 *
 *  dev_minor	Minor device id (for variations on one type)
 *  dev_fill0	Set if driver can do solid area fills
 *  dev_fill1	Set if driver can do pattern area fills
 *  finc		Number to increment between member files
 *  fflen		Minimum field length to use in member file number
 *
 * Revision 1.24  1994/02/01  22:46:55  mjl
 * Added pls->user (char *).
 *
 * Revision 1.23  1994/01/25  06:22:17  mjl
 * Added pls->db variable.
 *
 * Revision 1.22  1994/01/15  17:35:09  mjl
 * Added new variables for use in Tcl/TK/DP driver: server_name, server_host,
 * server_port.
 *
 * Revision 1.21  1993/12/21  10:35:46  mjl
 * Added flag to be set by driver to indicate whether TK or DP style
 * communication is being used.


plstubs.h:
 * Revision 1.21  1994/03/23  07:11:49  mjl
 * Added stub name definitions for cmap1 selectors and plshade front-ends.
 *
 * Revision 1.20  1993/12/08  06:21:19  mjl
 * Fix for dos386/djgpp; added definition for plspause (should now work from
 * fortran).


-----------------------------------------------------------------------------
Drivers
-----------------------------------------------------------------------------

All drivers: 
 * cleaned up by eliminating extraneous includes (stdio.h and
 * stdlib.h now included automatically by plplotP.h), extraneous clears
 * of pls->fileset, pls->page, and pls->OutFile = NULL (now handled in
 * driver interface or driver initialization as appropriate).  Special
 * handling for malloc includes eliminated (no longer needed) and malloc
 * prototypes fixed as necessary.


All VGA drivers:
 * Revision 1.4  1994/05/25  09:36:54  mjl
 * All VGA driver function names now end with "_vga", a nice simplification.
 * Since all are compiler-dependent and mutually exclusive, this should pose
 * no problem.  Also HP pen plotter driver were consolidated.  Both
 * contributions by Mark Olesen (olesen@weber.me.queensu.ca).


plbuf.c:
 * Revision 1.18  1994/03/23  06:39:20  mjl
 * Added support for: color map 1 color selection, color map 0 or color map 1
 * state change (palette change), polygon fills.
 *
 * Revision 1.17  1994/01/15  17:19:13  mjl
 * Eliminated include of pdf.h (not needed).


hpgl.c:
 * Revision 1.2  1994/05/26  19:21:45  mjl
 * Minor changes to bring up to spec with the other drivers.
 *
 * Revision 1.1  1994/05/25  09:34:14  mjl
 * Consolidated HP pen plotter driver, contributed by Mark Olesen
 * (olesen@weber.me.queensu.ca).


ljii.c:
 * Revision 1.17  1994/04/30  16:14:43  mjl
 * Fixed format field (%ld instead of %d) or introduced casts where
 * appropriate to eliminate warnings given by gcc -Wall.
 *
 * Revision 1.16  1994/04/08  11:34:38  mjl
 * Fix for DOS machines running DJGPP.


ljiip.c:
 * Revision 1.3  1994/04/30  16:14:45  mjl
 * Fixed format field (%ld instead of %d) or introduced casts where
 * appropriate to eliminate warnings given by gcc -Wall.
 *
 * Revision 1.2  1994/04/09  03:10:43  furnish
 * Teeny typo correction to remove duplicate symbols which caused HP to
 * be unable to produce shared lib.
 *
 * Revision 1.1  1994/04/08  11:46:44  mjl
 * New LaserJet IIp driver by Wesley Ebisuzaki, based on old ljii driver.
 * Has compression and other optimizations.


plmeta.c:
 * Revision 1.24  1994/04/08  11:38:11  mjl
 * Now allocate a PLmDev in order to keep file offset information local
 * to the driver where it belongs.  No longer keep track of bytes written
 * since the PDF output routines do that automatically.
 *
 * Revision 1.23  1994/03/23  06:39:22  mjl
 * Added support for: color map 1 color selection, color map 0 or color map 1
 * state change (palette change), polygon fills.
 *
 * Revision 1.22  1994/01/15  17:21:58  mjl
 * Changed to new PDF function syntax.


ps.c:
 * Revision 1.24  1994/05/07  03:00:04  mjl
 * Changed all occurances of bgcolor to cmap0[0].
 *
 * Revision 1.23  1994/04/30  16:14:46  mjl
 * Fixed format field (%ld instead of %d) or introduced casts where
 * appropriate to eliminate warnings given by gcc -Wall.
 *
 * Revision 1.22  1994/03/23  06:44:26  mjl
 * Added support for: color map 1 color selection, color map 0 or color map 1
 * state change (palette change), polygon fills.  Changes to generated
 * postscript code: now leaner and more robust, with less redundant
 * instructions.  Is suitable for backward paging using ghostview!
 *
 * Revision 1.21  1994/02/07  22:52:11  mjl
 * Changed the default pen width to 3 so that the default output actually
 * looks good.



tek.c:
 * Revision 1.25  1994/05/26  19:22:04  mjl
 * Supplied some missing variable initializations.
 *
 * Revision 1.24  1994/05/14  08:30:41  mjl
 * Changed to correctly set background color.  Added initialization hack to
 * improve color fill behavior using the vlt driver.
 *
 * Revision 1.23  1994/04/30  16:14:48  mjl
 * Fixed format field (%ld instead of %d) or introduced casts where
 * appropriate to eliminate warnings given by gcc -Wall.
 *
 * Revision 1.22  1994/04/08  11:36:01  mjl
 * Put nopause support back into the drivers where it is better off.
 * I don't know WHAT I was thinking.
 *
 * Revision 1.21  1994/03/23  06:50:49  mjl
 * Added new drivers: Versaterm (Mac), and VLT (Amiga).  Tek4107 driver
 * improved to actually work on a real tek 4107 (contributed by Paul
 * Kirschner), and the driver keyword changed to "tek4107t" or "tek4107f"
 * (was "t4107t" or "t4107f").  Introduced idea of minor devices -- each
 * variation on the tektronix instruction set is a new minor device.
 *
 * Added support for: color map 1 color selection, color map 0 or color map 1
 * state change (palette change), polygon fills, both solid and pattern (use
 * negative fill pattern number to get hardware pattern).  Color map now set
 * FROM PLPLOT!!  May require some additional effort to work for all minor
 * devices.
 *
 * Revision 1.20  1993/12/15  08:53:23  mjl
 * Fixed mskermit driver initialization.


xwin.c:
 * Revision 1.39  1994/05/23  22:08:00  mjl
 * Moved code responsible for getting Visual back to where it belongs
 * (it was misplaced last update, causing core dumps on some systems).
 * Assignment of pixel values in cmap1 now staggered, in order to avoid
 * a strange occurance when drawing rubber-banded boxes using xor'ed GC's
 * (e.g. while zooming in plframe widget).
 *
 * Revision 1.38  1994/05/16  21:26:29  mjl
 * The default has been reset to use the default colormap.  The constant
 * ccmap at the head of xwin.c must be set to 1 to get a custom colormap.
 * This should really be a command line switch, except now I'm having no
 * problem with using the default colormap under HPUX.  Go figure.
 *
 * Revision 1.37  1994/05/10  21:44:22  mjl
 * Some cleaning up after previous development.
 *
 * Revision 1.36  1994/05/09  19:54:53  mjl
 * Some bug fixes for non-color displays.
 *
 * Revision 1.35  1994/05/07  03:03:32  mjl
 * Massively restructured initialization to handle custom color maps.
 * Switched to XCreateWindow instead of XCreateSimpleWindow for more power.
 * Initialization of custom color map fairly complex in order to lead to
 * a minimum of flickering -- low color map colors (used by window manager),
 * cmap0 colors, and preallocated colors (used by Tk) are preserved and
 * restored at the same pixel values to avoid undue flickering when switching
 * color maps.  Function PLX_save_colormap added to support the latter.  All
 * colormap state changes now done with XStoreColors which should be much
 * speedier than the old method of freeing and allocating new cells.
 *
 * Revision 1.34  1994/04/30  16:14:50  mjl
 * Fixed format field (%ld instead of %d) or introduced casts where
 * appropriate to eliminate warnings given by gcc -Wall.
 *
 * Revision 1.33  1994/04/25  18:45:03  mjl
 * Fixed background bug introduced last update.  Added support for
 * reallocation of cmap0 and cmap1 palettes.
 *
 * Revision 1.32  1994/04/08  11:43:40  mjl
 * Some improvements to color map 1 color allocation so that it will fail
 * less often (temporary, until custom color map support is added).  Master
 * event handler with user entry point added.  Escape function recognizes
 * the PLESC_EH command for handling pending events only, and a mouse handler
 * added (both contributed by Radey Shouman).
 *
 * Revision 1.31  1994/03/23  06:41:25  mjl
 * Added support for: color map 1 color selection, color map 0 or color map 1
 * state change (palette change), polygon fills.  Color map 1 allocator tries
 * to allocate as many colors as possible (minus a small number to be
 * friendly to TK) and reports the result.  Eventually this will be improved
 * to use a custom colormap, copying the colors used by the window manager
 * to reduce the flicker when changing focus.
 *
 * Revision 1.30  1994/01/25  06:18:34  mjl
 * Added double buffering capability.

-----------------------------------------------------------------------------
TK driver, plframe widget, and support tools
-----------------------------------------------------------------------------

plserver.c:
 * Revision 1.24  1994/05/07  03:10:33  mjl
 * Changed startup to ensure that initial RGB color map values get saved (a
 * hack to get around limitations in X11R5 and Tk).
 *
 * Revision 1.23  1994/04/08  11:51:12  mjl
 * Changed main init function name (for wish builders) from plTcl_AppInit to
 * pltk_Init, to make it more conventional.
 *
 * Revision 1.22  1994/03/22  23:17:34  furnish
 * Avoid collision with user code when he wants to make a custom wish
 * combined with PLPLOT.
 *
 * Revision 1.21  1994/01/17  21:32:14  mjl
 * Eliminated -mkidx flag as it is unnecessary.  Replace with the alias:
 * alias mktclidx	"echo 'auto_mkindex . *.tcl; destroy .' | wish"
 *
 * Revision 1.20  1994/01/15  17:38:44  mjl
 * Split off communications link initialization into a Tcl proc, for
 * flexibility.
 *
 * Revision 1.19  1993/12/22  21:26:32  mjl
 * Last commit was botched on this file.
 *
 * Revision 1.18  1993/12/21  10:21:06  mjl
 * Changed -client arg name to -client_name to be more transparent (stands
 * for client program main window name).  Substantially rewrote
 * initialization to be better suited for Tcl-DP or TK style communication.
 * Created client_cmd function for handling all messages to the client.
 *
 * Revision 1.17  1993/12/15  08:59:03  mjl
 * Changes to support Tcl-DP.  Also moved functions Tcl_AppInit() and
 * set_autopath() to tkshell.c so they could be used by the TK driver
 * initialization as well.
 *
 * Revision 1.16  1993/12/09  21:29:47  mjl
 * Fixed another bug generated in the reorganization dealing with cleanup.
 *
 * Revision 1.15  1993/12/09  20:25:57  mjl
 * Completely reorganized, using the source for wish (tkMain.c) as a starting
 * point.  Will now be able to track changes to Tcl/TK more easily, and can
 * use plserver exactly like wish (including interactive usage).  Fixed a bug
 * occasionally encountered when shutting down.


tk.c:
 * Revision 1.35  1994/05/14  05:43:13  mjl
 * Additional debug information.
 *
 * Revision 1.34  1994/05/07  03:13:37  mjl
 * Replaced bgcolor by cmap0[0].
 *
 * Revision 1.33  1994/04/30  16:15:00  mjl
 * Fixed format field (%ld instead of %d) or introduced casts where
 * appropriate to eliminate warnings given by gcc -Wall.
 *
 * Revision 1.32  1994/04/08  12:05:21  mjl
 * Mouse event handler added, also escape function support for the
 * PLESC_EXPOSE, PLESC_RESIZE, PLESC_REDRAW, PLESC_EH commands (contributed
 * by Radey Shouman).  Device-specific data typedef moved into plplotTK.h
 * to allow access by determined users.  nopause handling moved back into
 * here where it belongs.  Byte count no longer kept track of here in favor
 * of doing it in the PDF write routines.
 *
 * Revision 1.31  1994/03/23  06:53:36  mjl
 * Added support for: color map 1 color selection, color map 0 or color map 1
 * state change (palette change), polygon fills.
 *
 * Revision 1.30  1994/03/22  23:17:37  furnish
 * Avoid collision with user code when he wants to make a custom wish
 * combined with PLPLOT.
 *
 * Revision 1.29  1994/02/07  23:02:11  mjl
 * Changed to using pl_PacketSend for data transfer, which now requires no
 * communication between interpreters.  Communication parameters stored in
 * the dev->iodev structure.
 *
 * Revision 1.28  1994/02/01  22:46:23  mjl
 * Added support for starting remsh with -l <user> flag.
 *
 * Revision 1.27  1994/01/25  06:21:34  mjl
 * Removed code for default selection of background color based on display
 * type -- now handled entirely in the server.  Fixed default name for
 * container window to work when program name has a leading path
 * specification.
 *
 * Revision 1.26  1994/01/17  21:33:28  mjl
 * Robustified send commands for when interpreter name has embedded blanks
 * (as occurs when the same application is started several times, each
 * creating its own main window).
 *
 * Revision 1.25  1994/01/15  17:46:48  mjl
 * Converted to new PDF function call syntax.  Substantially changed server
 * startup code -- now can handle a variety of cases including starting
 * plserver on a remote node (via remsh) or plserver already existing and
 * only needing to be contacted.  Rewrote data channel code to use socket
 * when DP driver is used.
 *
 * Revision 1.24  1993/12/22  23:09:53  mjl
 * Changes so that TK driver no longer times out on slow network connections
 * (it's just rreeaaalllyyyy ssllooowwww).  Where timeouts are a problem,
 * the client must issue the command to the server without waiting for a
 * reply, and then sit in TK wait loop until some specified condition is
 * met (usually the server sets a client interpreter variable when done).
 *
 * Revision 1.23  1993/12/21  10:30:24  mjl
 * Changed to separate initialization routines for dp vs tk drivers.
 * Reworked server_cmd function to work well with both Tcl-DP and TK send;
 * also method for putting commands in the background is better thought out
 * (and works better).  When using Tcl-DP for communication, the TK main
 * window is NOT created now.  This is a bit tricky since certain commands
 * no longer work if you don't have a main window -- like "tkwait", "update",
 * and "after", and alternate methods must be used to get the same effects.
 *
 * Revision 1.22  1993/12/15  09:04:31  mjl
 * Added support for Tcl-DP style communication.  Many small tweaks to
 * driver-plserver interactions made.  server_cmdbg() added for sending
 * commands to the server in the background (infrequently used because it
 * does not intercept errors).


plframe.c:
 * Revision 1.29  1994/05/23  22:09:04  mjl
 * Fixed some minor omissions regarding the xorGC.
 *
 * Revision 1.28  1994/05/10  21:49:52  mjl
 * Added new, more efficient ways to set colors via plframe "cmd" -- now you
 * can change only a single cmap0 entry or cmap1 control point color instead
 * of the whole map.  Took out call to XSetWMColormapWindows except when it
 * is absolutely needed.
 *
 * Revision 1.27  1994/05/07  03:09:52  mjl
 * After initializing plplot, now installs the X window colormap as the top
 * level Tk color map.  This is necessary so that the color palette tools
 * display the same colors as the plot.
 *
 * Revision 1.26  1994/04/30  16:14:56  mjl
 * Fixed format field (%ld instead of %d) or introduced casts where
 * appropriate to eliminate warnings given by gcc -Wall.
 *
 * Revision 1.25  1994/04/25  18:53:39  mjl
 * Added the PLStream pointer to the widget structure, to allow faster access
 * to PLplot internals.  Added "cmd" widget commands "scmap0", "gcmap0",
 * "scmap1", "gcmap1" for setting/getting palette settings.
 *
 * Revision 1.24  1994/04/08  11:47:41  mjl
 * Fixed some casts.
 *
 * Revision 1.23  1994/02/07  22:55:21  mjl
 * Data read is now done by a file handler for both FIFO or socket reads.
 * This has much better performance than the old way since no communication
 * between interpreters is needed.  The end of page indicator is now lit by
 * detecting eop/bop in the data stream.  The old widget command to read
 * the data stream is gone.
 *
 * Revision 1.22  1994/02/01  22:49:37  mjl
 * Changes to handle only partially received socket packets due to a slow
 * network connection.  Right now it just polls; this will be improved soon.
 *
 * Revision 1.21  1994/01/15  17:37:51  mjl
 * Added compile-time mode to route FIFO i/o through a memory buffer.
 * Changed "openfifo" widget command to "openlink" with the first argument
 * to be either "fifo" or "socket".  Added ability to create and read
 * socket for data transfer.
 *
 * Revision 1.20  1993/12/21  10:19:01  mjl
 * Added some debugging output.
 *
 * Revision 1.19  1993/12/15  08:57:36  mjl
 * Eliminated all direct knowledge plframe widget has of client code.  Now
 * all interactions to the client code are handled by the wrapper procs only.
 * Previously the plframe widget notified the client code when it was
 * destroyed, but this is not only bad at times but is also not necessary
 * (the same thing can be done in the wrapper procs through event bindings).


plr.c:
 * Revision 1.15  1994/05/14  05:41:33  mjl
 * Added a bit more debugging information.
 *
 * Revision 1.14  1994/04/30  16:14:58  mjl
 * Fixed format field (%ld instead of %d) or introduced casts where
 * appropriate to eliminate warnings given by gcc -Wall.
 *
 * Revision 1.13  1994/04/08  11:49:30  mjl
 * No longer keep track of byte count, letting the PDF read routines do it
 * for us.  Now recognizes and acts upon the PLESC_EXPOSE and PLESC_REDRAW
 * escape commands.
 *
 * Revision 1.12  1994/03/23  06:52:34  mjl
 * Added support for: color map 1 color selection, color map 0 or color map 1
 * state change (palette change), polygon fills.
 *
 * Revision 1.11  1994/02/07  22:56:18  mjl
 * Fixed error messages to use new iodev data structure.
 *
 * Revision 1.10  1994/02/01  22:43:47  mjl
 * Slight change to error handling for unrecognized commands.
 *
 * Revision 1.9  1994/01/15  17:38:12  mjl
 * Changed to new PDF function call syntax.


tcpip.c:
 * Revision 1.5  1994/05/14  05:42:52  mjl
 * Fixed the call to pl_UnRead the header -- a bogus argument was causing
 * spurious packet transmission failures.
 *
 * Revision 1.4  1994/04/08  12:00:05  mjl
 * Function name changes to reduce namespace pollution.  Robustness improved
 * in packet reader (changes stolen from Tcl-DP3.1 update).
 *
 * Revision 1.3  1994/02/07  23:00:43  mjl
 * Simplified and genericized pl_PacketReceive and pl_PacketSend functions so
 * that they work with FIFO's as well as sockets: data stream is now fully
 * packetized.  Functions require a PLiodev struct to be passed in,
 * containing lots of useful information about the connection.
 *
 * Revision 1.2  1994/02/01  22:44:35  mjl
 * Changes to support distributed operation between machines with different
 * int/long sizes.
 *
 * Revision 1.1  1994/01/15  17:50:09  mjl
 * Added to hold primarily socket related code.  The latter were taken from
 * the Tcl-DP distribution and modified to use binary i/o to/from the memory
 * buffer pointed to by pdfs->buffer (pdfs a PDFstrm *).


tkshell.c:
 * Revision 1.15  1994/05/24  19:46:35  mjl
 * Now autoloads the directory TCL_DIR for PLplot Tcl scripts.
 *
 * Revision 1.14  1994/05/09  18:00:05  furnish
 * Tcl extension code for mirroring the PLplot C API in Tcl.
 *
 * Revision 1.13  1994/05/07  03:14:57  mjl
 * Consolidated Tk code by moving Pltk_Init() to this file.  Startup routine
 * now sets auto_path and saves initial color map as well.
 *
 * Revision 1.12  1994/04/08  12:06:09  mjl
 * Function name changes to reduce namespace pollution.
 *
 * Revision 1.11  1994/03/23  06:54:40  mjl
 * Minor documentation change.
 *
 * Revision 1.10  1994/03/22  23:17:39  furnish
 * Avoid collision with user code when he wants to make a custom wish
 * combined with PLPLOT.
 *
 * Revision 1.9  1994/01/15  17:48:31  mjl
 * Added built-in Tcl commands: wait_until (for general use -- waits until
 * the specified condition evaluates to true) and host_id (Tcl-DP only).
 *
 * Revision 1.8  1993/12/21  10:32:04  mjl
 * Moved a part of the set_auto_path function back into plserver.c where
 * it belonged (adding directories to auto_path based on an input flag).
 *
 * Revision 1.7  1993/12/15  09:05:43  mjl
 * Added functions Tcl_AppInit() and set_autoload(), to be shared by both
 * the plserver and tk driver interpreter startup code.  Changes to
 * Tcl_AppInit() to support Tcl-DP style communication (taken from Tcl-DP
 * source distribution).


PLWin.tcl:
# Revision 1.2  1994/05/11  08:07:30  furnish
# Debugging.  Needs to do own toprow for some reason.
#
# Revision 1.1  1994/05/09  17:59:19  furnish
# The new [incr Tcl] interface to the PLplot Tcl extensions.


plclient.tcl:
# Revision 1.3  1994/02/07  22:52:38  mjl
# Removed references to plw_flash (no longer invoked from client side).
#
# Revision 1.2  1994/01/17  21:30:23  mjl
# Improved security for Tcl-DP communication by disabling any further
# connections after the initial client/server handshaking is finished.
#
# Revision 1.1  1994/01/15  17:36:03  mjl
# Added to hold client side initialization procs.


plcolor.tcl:
# Revision 1.3  1994/05/10  22:44:57  mjl
# Changed the way cmap1 position sliders work.  Still a monotonic
# relationship between control point number and position in cmap1 space is
# strictly enforced, but now when you try to move one past another, they
# both get moved.  Any number of control points can be shifted in this way.
# This is a much more useful way to manipulate the color map as it can be
# used to "tie" together two control points (as is appropriate for the
# center two points in the default map).
#
# Revision 1.2  1994/05/10  21:46:51  mjl
# Modified to dynamically alter colormaps.  Color editor now accepts a
# command argument and instance pointer to handle what should be done when
# a color is changed.  Hooks to new, more efficient way of setting colors
# in plframe added.  Buttons for incremental change of cmap1 position
# sliders added (except on boundary control points).
#
# Revision 1.1  1994/04/25  19:12:05  mjl
# The procs to handle palette modification (options menu).


plconfig.tcl:
# New, sets configuration options for plplot/TK driver.


pldefaults.tcl:
# Revision 1.2  1994/04/25  18:50:18  mjl
# Added resource setting for scale fonts (used in palette widgets).
# Also added variables governing fast and faster scrolling speed.
#
# Revision 1.1  1994/04/08  12:07:31  mjl
# Proc to set up defaults.  Should not be modified by the user (use
# plconfig instead).


plserver.tcl:
# Revision 1.14  1994/05/14  05:41:53  mjl
# Added a missing global declaration for the geometry variable.
#
# Revision 1.13  1994/05/07  03:11:35  mjl
# Ripped out code dependent on tk3.2 since it finally started to get in the
# way.  Also improved some documentation.
#
# Revision 1.12  1994/04/25  18:57:07  mjl
# Removed the rename of open since now we need it for reading/writing
# palette files (I hope everyone's security is up to par by now).  Deleted
# options menu -- now these are associated with the plframe widget.  Added
# shift and control attributes to key_filter as well as speeded up
# scrolling.  Shift+cursor gives the fast setting and Shift+Control+cursor
# gives the faster setting.
#
# Revision 1.11  1994/04/08  11:57:12  mjl
# Now the default resources are first loaded, then the user's customizations,
# if present.  A keystroke filtering proc was added to allow binding useful
# GUI operations to keystrokes.  The defaults are pretty reasonable, set
# in the pldefaults proc (and should be modified in plconfig).  Supported
# operations are "z" to zoom, "r" to reset zoom, "p" to print, "s" to save
# again, <Right>, <Left>, <Up>, <Down>, to scroll by cursor key while in
# zoom mode (units scrolled is user alterable as well).
#
# Revision 1.10  1994/01/15  17:43:21  mjl
# Added procs to handle communication link.  plserver_link_init gets invoked
# automatically when plserver is started by the Tcl/TK/DP driver.
# plserver_start is used when running plserver in stand-alone mode.
#
# Revision 1.9  1993/12/21  10:22:43  mjl
# Now route ALL communication to the client through the client_cmd proc.
# This part reworked to not suck when using Tcl-DP.
#
# Revision 1.8  1993/12/15  09:17:57  mjl
# Changes to support Tcl-DP and an atexit tweak.
#
# Revision 1.7  1993/12/09  20:34:45  mjl
# Added code to tell client to abort when exit is selected.


pltools.tcl:
# Revision 1.12  1994/04/25  18:58:48  mjl
# Added the simple class system by Sam Shen for support of the palette
# manipulators.  Will probably rewrite in itcl at some point.


plwidget.tcl:
# Revision 1.23  1994/05/07  03:13:11  mjl
# Minor improvements to work better with new extended wish model and custom
# color map capability.
#
# Revision 1.22  1994/04/25  19:00:34  mjl
# Added "Options" cascade menu, along with "Palette 0" and "Palette 1"
# entries.  Added shift and control modifiers to the key bindings
# responsible for calling the key_filter proc.
#
# Revision 1.21  1994/04/08  11:58:50  mjl
# Changes to support new mouse handler, keyboard filter, scrolling using
# cursor keys.  eop label should now flash correctly.
#
# Revision 1.20  1994/02/07  22:58:11  mjl
# Eliminated plw_flash in favor of plw_bop and plw_eop.  Added widget
# configure commands to set bop/eop behavior.
#
# Revision 1.19  1994/01/17  21:30:24  mjl
# Improved security for Tcl-DP communication by disabling any further
# connections after the initial client/server handshaking is finished.
#
# Revision 1.18  1994/01/15  17:41:52  mjl
# Improved handling of status label widget.  Added proc to handle
# initialization of data link via socket.
#
# Revision 1.17  1993/12/22  23:09:51  mjl
# Changes so that TK driver no longer times out on slow network connections
# (it's just rreeaaalllyyyy ssllooowwww).  Where timeouts are a problem,
# the client must issue the command to the server without waiting for a
# reply, and then sit in TK wait loop until some specified condition is
# met (usually the server sets a client interpreter variable when done).
#
# Revision 1.16  1993/12/21  10:22:44  mjl
# Now route ALL communication to the client through the client_cmd proc.
# This part reworked to not suck when using Tcl-DP.
#
# Revision 1.15  1993/12/15  09:02:13  mjl
# Changes to support Tcl-DP style communication; eliminated plframe
# widget attach and detach commands (no longer supported).


Palette files, new:

	cmap0a.pal	16 color, default

	cmap1a.pal	4 color, default (goes over one vertex of HLS cone)
	cmap1b.pal	2 color, just goes around S=1 circle
	cmap1c.pal	6 color, just goes around S=1 circle

-----------------------------------------------------------------------------
utilities
-----------------------------------------------------------------------------

plrender.c:
 * Revision 1.38  1994/04/30  16:15:17  mjl
 * Fixed format field (%ld instead of %d) or introduced casts where
 * appropriate to eliminate warnings given by gcc -Wall.
 *
 * Revision 1.37  1994/04/08  12:37:53  mjl
 * Fixed initial tcl command that is responsible for the backpage button
 * appearing.
 *
 * Revision 1.36  1994/03/23  09:03:05  mjl
 * Added support for cmap1, color map state changes, hardware polygon fills.
 *
 * Revision 1.35  1994/01/17  20:45:02  mjl
 * Converted to new syntax for PDF function calls.


pltek.c:
 * Revision 1.4  1993/07/17  00:30:03  mjl
 * Eliminated extraneous file open.


-----------------------------------------------------------------------------
DOS drivers
-----------------------------------------------------------------------------

DOS drivers moved into subdirectories of sys/dos/ since now there are at
least four different compilation systems supported.

DOS drivers upgraded to work with 4.99f, although now they may be broken
again.  I did what I could to fix them, the rest is up to the people
with machines that can test them...

DOS driver support contributed by:

	Paul Casteels			DOS/BGI (bcc)
	casteels@uia.ac.be
	(has agreed to continue supporting this driver for now)

	Paul Kirschner			DOS/DJGPP
	pek@logos.res.utc.com

	Mark Olesen			DOS/MSC + DOS/EMX
	olesen@weber.me.queensu.ca

The OS/2-PM driver has been released to be freely distributable by Geoff,
under the condition that someone else bring it up to date.  Volunteering
for the job is:

	John C. Peterson		OS/2
	jcp@trg.saic.com

-----------------------------------------------------------------------------
Amiga driver
-----------------------------------------------------------------------------

All sources:
 * Revision 1.7  1994/05/23  22:12:00  mjl
 * Minor incompatibilities with main sources fixed.
 *
 * Revision 1.6  1994/03/23  08:56:30  mjl
 * Header file rearrangement.


pla_wn.c:
 * Revision 1.8  1994/03/23  09:00:20  mjl
 * Much rearrangement and decruftifying.  Added support for cmap1, color map
 * state changes, solid polygon fills.  Screen now defaults to 16 color, and
 * palette can be set by calling program.  Added hack to capture screen
 * output into an iff file family without user intervention.
 *
 * Revision 1.7  1994/01/17  21:16:06  mjl
 * Changed virt window from 25 to 16x larger than workbench window
 * to fix problem with overflows (submitted by Wesley Ebisuzaki).


pla_menu.c:
 * Revision 1.3  1994/03/23  08:57:43  mjl
 * Header file rearrangement.  Broke code for saving an iff file from the
 * current screen off into plamiga_saveiff().
