Maurice,

Well, I've spent several hours tonight trying to get the latest plplot up.
Once again, tons and tons bugs.  This is getting kind of old.  When can we
get this off our backs for a few months?  

When you fixed up plnxtv.c to deal with the new stddef thing for the amiga,
you also corrected an error of confused plstdc vs. sdlib which exposed an
error relating to non (size_t) casted args to malloc and realloc.  So, this
bug has been there a while and didn't get uncovered till tonight.  Took me
quite some time to sort through that contortion of wacked out identifiers.
Remind me to never again try to support 25 different platforms for one
product at the same time...

As predicted, ljii.c is still completely hosed.  I can see you changed the
source some, but it definitely doesn't work.  I've been trying for over an
hour, but I can't figure it out.  It doesn't help that your new coordinate
manipulation routines have no sensible documentation, nor that there is no
indiciation anywhere as to what assumptions PLPLOT makes about coordinates
and how they map from logical to physical.  I repeat that a driver
construction guide is absolutely necessary.  I understood how it worked
back when I wrote the DOSVGA driver, and the two new drivers which have
decended from that, as well as my first incarnation of the plmeta driver.
But by now you've done so much without documenting it, that I simply cannot
any longer infer how to correctly construct a driver in such a way as to
get intelligible coordinates into and through it.

So, el me tell YOU how the laserjet coordinates are supposed to work:

            TOP
+-------------------------+
|(0,0)                    |
|                         |
|                         |
|                         |
|                         |
|                         |
|                         |    11"
|                         |
|                         |
|                         |
|                         |
|                         |
|                         |
|              (1200,1590)|
+-------------------------+
           8.5"

Currently the driver seems keep toggling orient to make it think it's
portrait, even though orient is always landscape.  Well, net result is that
the x coord is always winding up wrapping around way past 1200.  But I
can't even tell if that's really the x coord, b/c the graph looks like it's
supposed to be read landscape, except it's soooo tall that the bottom of
the plot, which comes on the side of the physical page, ends up getting
wrapped around.  What coordinate is that supposed to be anyway?  Whatever it
is, it's way out of bounds.  

I couldn't find any way to adjust the x1,y1,x2,y2 pairs to fit within the
bounds in all cases.  Looks to me like pathological random numbers are
being passed in, though I know its not the case since the plots do have the
right structure if you don't mind reading them with a mirror.

There are a couple of things you need to do.

1)  Write a short 2 or 3 page document describing how one is supposed to
construct a driver.  What do you setup in the init section, and why, and
how does PLPLOT use it to generate the coords it passes to the line
routine.  Then, once you're in the line routine, what are you supposed to
do to convert the PLPLOT generated coords into something that you can use.
More to the point, why doesn't i just stay within xmin and xmax to begin
with?   This is a real mess, and unless there is docs, no one including me
can sort it out.  You may know how it works, but I can't see how to make
sense of it, and I can't imagin anyone else could either.

2)  Fix the ljii.c driver, or else we can it.  It's useless as it is.  This
deal where you supply a fix and I try it out 3 days later is just not
getting the job done.  The Talaris can emulate the HP, so why don't you try
doing test prints on it? bilf b the output once it's ftp'd over, and then
print/que=talaris/setup=hp
or some such should do the job.  That way you can get it fixed by seeing
immediate feedback.  I just can't keep this up.

I'm sick of it for now, so won't be providing the updated files tonight.
Only wrung out 2 of my 3 build options tonight.  Will try to do the other
tomorrow, but no promises.  

Didn't get anything from you on the new tpc run, so guess I won't be
starting that tonight either.

Well, bedtime for me.

Geoff
