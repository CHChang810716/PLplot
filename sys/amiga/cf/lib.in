# -----------------------------------------------------------------------
# $Id$
#
# Maurice LeBrun
# IFS, University of Texas at Austin
# 14-Jul-1994
#
# PLplot build rule for library under SAS/C 6.x on the Amiga.
# -----------------------------------------------------------------------

# -----------------------------------------------------------------------
# Set up inference rules appropriate for building library.
# -----------------------------------------------------------------------

.c$O:
	$(CC) $(CC_FLAGS) $*.c

.f$O:
	$(F77) $(F77_FLAGS) $*.f

# -----------------------------------------------------------------------
# Library dependency list and targets
# -----------------------------------------------------------------------

PLLIB_LDC	= lib $(PLLIB) $(LIBM) $(LIBC) lib:reqtools.lib 

libs:	$(PLLIB)

$(PLLIB):	plplot.gst $(CORE_OBJ) $(DRIVERS_OBJ) $(AMIGA_OBJ)
	-sksh_join $(CORE_OBJ)    t:plcore.lib
	-sksh_join $(DRIVERS_OBJ) t:pldrivers.lib
	-sksh_join $(AMIGA_OBJ)   t:plamiga.lib
	-sksh_join t:pldrivers.lib t:plcore.lib t:plamiga.lib $(PLLIB)
	-delete t:plcore.lib t:pldrivers.lib t:plamiga.lib

